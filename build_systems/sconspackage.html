

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SCons &mdash; Spack 0.23.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5f00b823" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=832b3b9f"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Waf" href="wafpackage.html" />
    <link rel="prev" title="Maven" href="mavenpackage.html" /> 
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-S0PQ7WV75K"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-S0PQ7WV75K');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/spack-logo-white-text.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Feature Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic_usage.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../replace_conda_homebrew.html">Spack for Homebrew/Conda Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frequently_asked_questions.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://spack-tutorial.readthedocs.io">Tutorial (spack-tutorial.rtfd.io)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://packages.spack.io">Packages (packages.spack.io)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://cache.spack.io">Binaries (binaries.spack.io)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_yaml.html">Spack Settings (config.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packages_yaml.html">Package Settings (packages.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_settings.html">Concretization Settings (concretizer.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../environments.html">Environments (spack.yaml, spack.lock)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../containers.html">Container Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mirrors.html">Mirrors (mirrors.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_file_support.html">Modules (modules.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../repositories.html">Package Repositories (repos.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../binary_caches.html">Build Caches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bootstrapping.html">Bootstrapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../command_index.html">Command Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chain.html">Chaining Spack Installations (upstreams.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extensions.html">Custom Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipelines.html">CI Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../signing.html">Spack Package Signing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu_configuration.html">Using External GPU Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../contribution_guide.html">Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packaging_guide.html">Packaging Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../build_systems.html">Build Systems</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="makefilepackage.html">Makefile</a></li>
<li class="toctree-l2"><a class="reference internal" href="mavenpackage.html">Maven</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">SCons</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#phases">Phases</a></li>
<li class="toctree-l3"><a class="reference internal" href="#important-files">Important files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-system-dependencies">Build system dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#finding-available-options">Finding available options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#passing-arguments-to-scons">Passing arguments to scons</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiler-wrappers">Compiler wrappers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#external-documentation">External documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wafpackage.html">Waf</a></li>
<li class="toctree-l2"><a class="reference internal" href="autotoolspackage.html">Autotools</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmakepackage.html">CMake</a></li>
<li class="toctree-l2"><a class="reference internal" href="cachedcmakepackage.html">CachedCMake</a></li>
<li class="toctree-l2"><a class="reference internal" href="mesonpackage.html">Meson</a></li>
<li class="toctree-l2"><a class="reference internal" href="qmakepackage.html">QMake</a></li>
<li class="toctree-l2"><a class="reference internal" href="sippackage.html">SIP</a></li>
<li class="toctree-l2"><a class="reference internal" href="luapackage.html">Lua</a></li>
<li class="toctree-l2"><a class="reference internal" href="octavepackage.html">Octave</a></li>
<li class="toctree-l2"><a class="reference internal" href="perlpackage.html">Perl</a></li>
<li class="toctree-l2"><a class="reference internal" href="pythonpackage.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="rpackage.html">R</a></li>
<li class="toctree-l2"><a class="reference internal" href="racketpackage.html">Racket</a></li>
<li class="toctree-l2"><a class="reference internal" href="rubypackage.html">Ruby</a></li>
<li class="toctree-l2"><a class="reference internal" href="bundlepackage.html">Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="cudapackage.html">Cuda</a></li>
<li class="toctree-l2"><a class="reference internal" href="custompackage.html">Custom Build Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="inteloneapipackage.html">IntelOneapi</a></li>
<li class="toctree-l2"><a class="reference internal" href="intelpackage.html">Intel</a></li>
<li class="toctree-l2"><a class="reference internal" href="rocmpackage.html">ROCm</a></li>
<li class="toctree-l2"><a class="reference internal" href="sourceforgepackage.html">Sourceforge</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide.html">Developer Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../spack.html">Spack API Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../llnl.html">LLNL API Docs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Spack</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../build_systems.html">Build Systems</a></li>
      <li class="breadcrumb-item active">SCons</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/build_systems/sconspackage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="scons">
<span id="sconspackage"></span><h1>SCons<a class="headerlink" href="#scons" title="Link to this heading"></a></h1>
<p>SCons is a general-purpose build system that does not rely on
Makefiles to build software. SCons is written in Python, and handles
all building and linking itself.</p>
<p>As far as build systems go, SCons is very non-uniform. It provides a
common framework for developers to write build scripts, but the build
scripts themselves can vary drastically. Some developers add subcommands
like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>scons<span class="w"> </span>clean
<span class="gp">$ </span>scons<span class="w"> </span>build
<span class="gp">$ </span>scons<span class="w"> </span><span class="nb">test</span>
<span class="gp">$ </span>scons<span class="w"> </span>install
</pre></div>
</div>
<p>Others don’t add any subcommands. Some have configuration options that
can be specified through variables on the command line. Others don’t.</p>
<section id="phases">
<h2>Phases<a class="headerlink" href="#phases" title="Link to this heading"></a></h2>
<p>As previously mentioned, SCons allows developers to add subcommands like
<code class="docutils literal notranslate"><span class="pre">build</span></code> and <code class="docutils literal notranslate"><span class="pre">install</span></code>, but by default, installation usually looks like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>scons
<span class="gp">$ </span>scons<span class="w"> </span>install
</pre></div>
</div>
<p>To facilitate this, the <code class="docutils literal notranslate"><span class="pre">SConsBuilder</span></code> and <code class="docutils literal notranslate"><span class="pre">SconsPackage</span></code> base classes provide the
following phases:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">build</span></code> - build the package</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">install</span></code> - install the package</p></li>
</ol>
<p>Package developers often add unit tests that can be invoked with
<code class="docutils literal notranslate"><span class="pre">scons</span> <span class="pre">test</span></code> or <code class="docutils literal notranslate"><span class="pre">scons</span> <span class="pre">check</span></code>. Spack provides a <code class="docutils literal notranslate"><span class="pre">build_test</span></code> method
to handle this. Since we don’t know which one the package developer
chose, the <code class="docutils literal notranslate"><span class="pre">build_test</span></code> method does nothing by default, but can be easily
overridden like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">build_test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">scons</span><span class="p">(</span><span class="s2">&quot;check&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="important-files">
<h2>Important files<a class="headerlink" href="#important-files" title="Link to this heading"></a></h2>
<p>SCons packages can be identified by their <code class="docutils literal notranslate"><span class="pre">SConstruct</span></code> files. These
files handle everything from setting up subcommands and command-line
options to linking and compiling.</p>
<p>One thing to look for is the <code class="docutils literal notranslate"><span class="pre">EnsureSConsVersion</span></code> function:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>EnsureSConsVersion(2, 3, 0)
</pre></div>
</div>
<p>This means that SCons 2.3.0 is the earliest release that will work.
You should specify this in a <code class="docutils literal notranslate"><span class="pre">depends_on</span></code> statement.</p>
</section>
<section id="build-system-dependencies">
<h2>Build system dependencies<a class="headerlink" href="#build-system-dependencies" title="Link to this heading"></a></h2>
<p>At the bare minimum, packages that use the SCons build system need a
<code class="docutils literal notranslate"><span class="pre">scons</span></code> dependency. Since this is always the case, the <code class="docutils literal notranslate"><span class="pre">SConsPackage</span></code>
base class already contains:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">depends_on</span><span class="p">(</span><span class="s2">&quot;scons&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;build&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want to specify a particular version requirement, you can override
this in your package:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">depends_on</span><span class="p">(</span><span class="s2">&quot;scons@2.3.0:&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;build&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="finding-available-options">
<h2>Finding available options<a class="headerlink" href="#finding-available-options" title="Link to this heading"></a></h2>
<p>The first place to start when looking for a list of valid options to
build a package is <code class="docutils literal notranslate"><span class="pre">scons</span> <span class="pre">--help</span></code>. Some packages like
<a class="reference external" href="https://github.com/spack/spack/blob/develop/var/spack/repos/builtin/packages/kahip/package.py">kahip</a>
don’t bother overwriting the default SCons help message, so this isn’t
very useful, but other packages like
<a class="reference external" href="https://github.com/spack/spack/blob/develop/var/spack/repos/builtin/packages/serf/package.py">serf</a>
print a list of valid command-line variables:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>scons<span class="w"> </span>--help
<span class="go">scons: Reading SConscript files ...</span>
<span class="go">Checking for GNU-compatible C compiler...yes</span>
<span class="go">scons: done reading SConscript files.</span>

<span class="go">PREFIX: Directory to install under ( /path/to/PREFIX )</span>
<span class="go">    default: /usr/local</span>
<span class="go">    actual: /usr/local</span>

<span class="go">LIBDIR: Directory to install architecture dependent libraries under ( /path/to/LIBDIR )</span>
<span class="go">    default: $PREFIX/lib</span>
<span class="go">    actual: /usr/local/lib</span>

<span class="go">APR: Path to apr-1-config, or to APR&#39;s install area ( /path/to/APR )</span>
<span class="go">    default: /usr</span>
<span class="go">    actual: /usr</span>

<span class="go">APU: Path to apu-1-config, or to APR&#39;s install area ( /path/to/APU )</span>
<span class="go">    default: /usr</span>
<span class="go">    actual: /usr</span>

<span class="go">OPENSSL: Path to OpenSSL&#39;s install area ( /path/to/OPENSSL )</span>
<span class="go">    default: /usr</span>
<span class="go">    actual: /usr</span>

<span class="go">ZLIB: Path to zlib&#39;s install area ( /path/to/ZLIB )</span>
<span class="go">    default: /usr</span>
<span class="go">    actual: /usr</span>

<span class="go">GSSAPI: Path to GSSAPI&#39;s install area ( /path/to/GSSAPI )</span>
<span class="go">    default: None</span>
<span class="go">    actual: None</span>

<span class="go">DEBUG: Enable debugging info and strict compile warnings (yes|no)</span>
<span class="go">    default: False</span>
<span class="go">    actual: False</span>

<span class="go">APR_STATIC: Enable using a static compiled APR (yes|no)</span>
<span class="go">    default: False</span>
<span class="go">    actual: False</span>

<span class="go">CC: Command name or path of the C compiler</span>
<span class="go">    default: None</span>
<span class="go">    actual: gcc</span>

<span class="go">CFLAGS: Extra flags for the C compiler (space-separated)</span>
<span class="go">    default: None</span>
<span class="go">    actual:</span>

<span class="go">LIBS: Extra libraries passed to the linker, e.g. &quot;-l&lt;library1&gt; -l&lt;library2&gt;&quot; (space separated)</span>
<span class="go">    default: None</span>
<span class="go">    actual: None</span>

<span class="go">LINKFLAGS: Extra flags for the linker (space-separated)</span>
<span class="go">    default: None</span>
<span class="go">    actual:</span>

<span class="go">CPPFLAGS: Extra flags for the C preprocessor (space separated)</span>
<span class="go">    default: None</span>
<span class="go">    actual: None</span>

<span class="go">Use scons -H for help about command-line options.</span>
</pre></div>
</div>
<p>More advanced packages like
<a class="reference external" href="https://github.com/spack/spack/blob/develop/var/spack/repos/builtin/packages/cantera/package.py">cantera</a>
use <code class="docutils literal notranslate"><span class="pre">scons</span> <span class="pre">--help</span></code> to print a list of subcommands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>scons<span class="w"> </span>--help
<span class="go">scons: Reading SConscript files ...</span>

<span class="go">SCons build script for Cantera</span>

<span class="go">Basic usage:</span>
<span class="go">    &#39;scons help&#39; - print a description of user-specifiable options.</span>

<span class="go">    &#39;scons build&#39; - Compile Cantera and the language interfaces using</span>
<span class="go">                    default options.</span>

<span class="go">    &#39;scons clean&#39; - Delete files created while building Cantera.</span>

<span class="go">    &#39;[sudo] scons install&#39; - Install Cantera.</span>

<span class="go">    &#39;[sudo] scons uninstall&#39; - Uninstall Cantera.</span>

<span class="go">    &#39;scons test&#39; - Run all tests which did not previously pass or for which the</span>
<span class="go">                   results may have changed.</span>

<span class="go">    &#39;scons test-reset&#39; - Reset the passing status of all tests.</span>

<span class="go">    &#39;scons test-clean&#39; - Delete files created while running the tests.</span>

<span class="go">    &#39;scons test-help&#39; - List available tests.</span>

<span class="go">    &#39;scons test-NAME&#39; - Run the test named &quot;NAME&quot;.</span>

<span class="go">    &#39;scons &lt;command&gt; dump&#39; - Dump the state of the SCons environment to the</span>
<span class="go">                             screen instead of doing &lt;command&gt;, e.g.</span>
<span class="go">                             &#39;scons build dump&#39;. For debugging purposes.</span>

<span class="go">    &#39;scons samples&#39; - Compile the C++ and Fortran samples.</span>

<span class="go">    &#39;scons msi&#39; - Build a Windows installer (.msi) for Cantera.</span>

<span class="go">    &#39;scons sphinx&#39; - Build the Sphinx documentation</span>

<span class="go">    &#39;scons doxygen&#39; - Build the Doxygen documentation</span>
</pre></div>
</div>
<p>You’ll notice that cantera provides a <code class="docutils literal notranslate"><span class="pre">scons</span> <span class="pre">help</span></code> subcommand. Running
<code class="docutils literal notranslate"><span class="pre">scons</span> <span class="pre">help</span></code> prints a list of valid command-line variables.</p>
</section>
<section id="passing-arguments-to-scons">
<h2>Passing arguments to scons<a class="headerlink" href="#passing-arguments-to-scons" title="Link to this heading"></a></h2>
<p>Now that you know what arguments the project accepts, you can add them to
the package build phase. This is done by overriding <code class="docutils literal notranslate"><span class="pre">build_args</span></code> like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">build_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[</span>
      <span class="sa">f</span><span class="s2">&quot;PREFIX=</span><span class="si">{</span><span class="n">prefix</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="sa">f</span><span class="s2">&quot;ZLIB=</span><span class="si">{</span><span class="n">spec</span><span class="p">[</span><span class="s1">&#39;zlib&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">prefix</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">if</span> <span class="n">spec</span><span class="o">.</span><span class="n">satisfies</span><span class="p">(</span><span class="s2">&quot;+debug&quot;</span><span class="p">):</span>
        <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;DEBUG=yes&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;DEBUG=no&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">args</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">SConsPackage</span></code> also provides an <code class="docutils literal notranslate"><span class="pre">install_args</span></code> function that you can
override to pass additional arguments to <code class="docutils literal notranslate"><span class="pre">scons</span> <span class="pre">install</span></code>.</p>
</section>
<section id="compiler-wrappers">
<h2>Compiler wrappers<a class="headerlink" href="#compiler-wrappers" title="Link to this heading"></a></h2>
<p>By default, SCons builds all packages in a separate execution environment,
and doesn’t pass any environment variables from the user environment.
Even changes to <code class="docutils literal notranslate"><span class="pre">PATH</span></code> are not propagated unless the package developer
does so.</p>
<p>This is particularly troublesome for Spack’s compiler wrappers, which depend
on environment variables to manage dependencies and linking flags. In many
cases, SCons packages are not compatible with Spack’s compiler wrappers,
and linking must be done manually.</p>
<p>First of all, check the list of valid options for anything relating to
environment variables. For example, cantera has the following option:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>* env_vars: [ string ]
    Environment variables to propagate through to SCons. Either the
    string &quot;all&quot; or a comma separated list of variable names, e.g.
    &quot;LD_LIBRARY_PATH,HOME&quot;.
    - default: &quot;LD_LIBRARY_PATH,PYTHONPATH&quot;
</pre></div>
</div>
<p>In the case of cantera, using <code class="docutils literal notranslate"><span class="pre">env_vars=all</span></code> allows us to use
Spack’s compiler wrappers. If you don’t see an option related to
environment variables, try using Spack’s compiler wrappers by passing
<code class="docutils literal notranslate"><span class="pre">spack_cc</span></code>, <code class="docutils literal notranslate"><span class="pre">spack_cxx</span></code>, and <code class="docutils literal notranslate"><span class="pre">spack_fc</span></code> via the <code class="docutils literal notranslate"><span class="pre">CC</span></code>, <code class="docutils literal notranslate"><span class="pre">CXX</span></code>,
and <code class="docutils literal notranslate"><span class="pre">FC</span></code> arguments, respectively. If you pass them to the build and
you see an error message like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Spack compiler must be run from Spack! Input &#39;SPACK_PREFIX&#39; is missing.
</pre></div>
</div>
<p>you’ll know that the package isn’t compatible with Spack’s compiler
wrappers. In this case, you’ll have to use the path to the actual
compilers, which are stored in <code class="docutils literal notranslate"><span class="pre">self.compiler.cc</span></code> and friends.
Note that this may involve passing additional flags to the build to
locate dependencies, a task normally done by the compiler wrappers.
serf is an example of a package with this limitation.</p>
</section>
<section id="external-documentation">
<h2>External documentation<a class="headerlink" href="#external-documentation" title="Link to this heading"></a></h2>
<p>For more information on the SCons build system, see:
<a class="reference external" href="http://scons.org/documentation.html">http://scons.org/documentation.html</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mavenpackage.html" class="btn btn-neutral float-left" title="Maven" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="wafpackage.html" class="btn btn-neutral float-right" title="Waf" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2023, Lawrence Livermore National Laboratory..
      <span class="lastupdated">Last updated on Sep 20, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>