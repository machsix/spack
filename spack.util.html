

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>spack.util package &mdash; Spack 0.23.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5f00b823" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=832b3b9f"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="spack.util.unparse package" href="spack.util.unparse.html" />
    <link rel="prev" title="spack.solver package" href="spack.solver.html" /> 
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-S0PQ7WV75K"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-S0PQ7WV75K');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/spack-logo-white-text.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="features.html">Feature Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_usage.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="replace_conda_homebrew.html">Spack for Homebrew/Conda Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="frequently_asked_questions.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://spack-tutorial.readthedocs.io">Tutorial (spack-tutorial.rtfd.io)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://packages.spack.io">Packages (packages.spack.io)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://cache.spack.io">Binaries (binaries.spack.io)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="config_yaml.html">Spack Settings (config.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages_yaml.html">Package Settings (packages.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_settings.html">Concretization Settings (concretizer.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="environments.html">Environments (spack.yaml, spack.lock)</a></li>
<li class="toctree-l1"><a class="reference internal" href="containers.html">Container Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirrors.html">Mirrors (mirrors.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_file_support.html">Modules (modules.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="repositories.html">Package Repositories (repos.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="binary_caches.html">Build Caches</a></li>
<li class="toctree-l1"><a class="reference internal" href="bootstrapping.html">Bootstrapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_index.html">Command Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="chain.html">Chaining Spack Installations (upstreams.yaml)</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Custom Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipelines.html">CI Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="signing.html">Spack Package Signing</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu_configuration.html">Using External GPU Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contribution_guide.html">Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="packaging_guide.html">Packaging Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_systems.html">Build Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Developer Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Docs</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="spack.html">Spack API Docs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="spack.html#spack.get_short_version"><code class="docutils literal notranslate"><span class="pre">get_short_version()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#spack.get_spack_commit"><code class="docutils literal notranslate"><span class="pre">get_spack_commit()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#spack.get_version"><code class="docutils literal notranslate"><span class="pre">get_version()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#spack.spack_version_info"><code class="docutils literal notranslate"><span class="pre">spack_version_info</span></code></a></li>
<li class="toctree-l2 current"><a class="reference internal" href="spack.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="spack.bootstrap.html">spack.bootstrap package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.build_systems.html">spack.build_systems package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.cmd.html">spack.cmd package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.compilers.html">spack.compilers package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.container.html">spack.container package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.detection.html">spack.detection package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.environment.html">spack.environment package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.hooks.html">spack.hooks package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.modules.html">spack.modules package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.oci.html">spack.oci package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.operating_systems.html">spack.operating_systems package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.platforms.html">spack.platforms package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.reporters.html">spack.reporters package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.schema.html">spack.schema package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.solver.html">spack.solver package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">spack.util package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.archive">spack.util.archive module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.compression">spack.util.compression module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.cpus">spack.util.cpus module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.crypto">spack.util.crypto module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.debug">spack.util.debug module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.editor">spack.util.editor module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.elf">spack.util.elf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.environment">spack.util.environment module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.executable">spack.util.executable module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.file_cache">spack.util.file_cache module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.file_permissions">spack.util.file_permissions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.filesystem">spack.util.filesystem module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.format">spack.util.format module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.gcs">spack.util.gcs module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.git">spack.util.git module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.gpg">spack.util.gpg module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.hash">spack.util.hash module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.ld_so_conf">spack.util.ld_so_conf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.libc">spack.util.libc module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.lock">spack.util.lock module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.log_parse">spack.util.log_parse module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.module_cmd">spack.util.module_cmd module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.naming">spack.util.naming module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.package_hash">spack.util.package_hash module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.parallel">spack.util.parallel module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.path">spack.util.path module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.pattern">spack.util.pattern module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.prefix">spack.util.prefix module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.s3">spack.util.s3 module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.spack_json">spack.util.spack_json module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.spack_yaml">spack.util.spack_yaml module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.timer">spack.util.timer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.url">spack.util.url module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.web">spack.util.web module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spack.util.windows_registry">spack.util.windows_registry module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="spack.version.html">spack.version package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.audit">spack.audit module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.binary_distribution">spack.binary_distribution module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.build_environment">spack.build_environment module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.builder">spack.builder module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.caches">spack.caches module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.ci">spack.ci module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.compiler">spack.compiler module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.concretize">spack.concretize module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.config">spack.config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.context">spack.context module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.cray_manifest">spack.cray_manifest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.database">spack.database module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.dependency">spack.dependency module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.deptypes">spack.deptypes module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.directives">spack.directives module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.directives_meta">spack.directives_meta module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.directory_layout">spack.directory_layout module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.error">spack.error module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.extensions">spack.extensions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.fetch_strategy">spack.fetch_strategy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.filesystem_view">spack.filesystem_view module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.graph">spack.graph module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.hash_types">spack.hash_types module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.install_test">spack.install_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.installer">spack.installer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.main">spack.main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.mirror">spack.mirror module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.mixins">spack.mixins module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.multimethod">spack.multimethod module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.package">spack.package module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.package_base">spack.package_base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.package_completions">spack.package_completions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.package_prefs">spack.package_prefs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.package_test">spack.package_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.parser">spack.parser module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.patch">spack.patch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.paths">spack.paths module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.projections">spack.projections module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.provider_index">spack.provider_index module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.relocate">spack.relocate module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.relocate_text">spack.relocate_text module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.repo">spack.repo module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.report">spack.report module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.resource">spack.resource module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.rewiring">spack.rewiring module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.spec">spack.spec module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.spec_list">spack.spec_list module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.stage">spack.stage module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.store">spack.store module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.subprocess_context">spack.subprocess_context module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.tag">spack.tag module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.tengine">spack.tengine module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.traverse">spack.traverse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.url">spack.url module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.user_environment">spack.user_environment module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.variant">spack.variant module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.html#module-spack.verify">spack.verify module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="llnl.html">LLNL API Docs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Spack</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="spack.html">spack package</a></li>
      <li class="breadcrumb-item active">spack.util package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/spack.util.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-spack.util">
<span id="spack-util-package"></span><h1>spack.util package<a class="headerlink" href="#module-spack.util" title="Link to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="spack.util.unparse.html">spack.util.unparse package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparse"><code class="docutils literal notranslate"><span class="pre">unparse()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.unparse.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.unparse.html#module-spack.util.unparse.unparser">spack.util.unparse.unparser module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser"><code class="docutils literal notranslate"><span class="pre">Unparser</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.binop"><code class="docutils literal notranslate"><span class="pre">Unparser.binop</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.binop_precedence"><code class="docutils literal notranslate"><span class="pre">Unparser.binop_precedence</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.binop_rassoc"><code class="docutils literal notranslate"><span class="pre">Unparser.binop_rassoc</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.block"><code class="docutils literal notranslate"><span class="pre">Unparser.block()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.boolop_precedence"><code class="docutils literal notranslate"><span class="pre">Unparser.boolop_precedence</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.boolops"><code class="docutils literal notranslate"><span class="pre">Unparser.boolops</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.cmpops"><code class="docutils literal notranslate"><span class="pre">Unparser.cmpops</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.delimit"><code class="docutils literal notranslate"><span class="pre">Unparser.delimit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.delimit_if"><code class="docutils literal notranslate"><span class="pre">Unparser.delimit_if()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.dispatch"><code class="docutils literal notranslate"><span class="pre">Unparser.dispatch()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.fill"><code class="docutils literal notranslate"><span class="pre">Unparser.fill()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.get_precedence"><code class="docutils literal notranslate"><span class="pre">Unparser.get_precedence()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.items_view"><code class="docutils literal notranslate"><span class="pre">Unparser.items_view()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.require_parens"><code class="docutils literal notranslate"><span class="pre">Unparser.require_parens()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.set_precedence"><code class="docutils literal notranslate"><span class="pre">Unparser.set_precedence()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.unop"><code class="docutils literal notranslate"><span class="pre">Unparser.unop</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.unop_precedence"><code class="docutils literal notranslate"><span class="pre">Unparser.unop_precedence</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit"><code class="docutils literal notranslate"><span class="pre">Unparser.visit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_AnnAssign"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_AnnAssign()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Assert"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Assert()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Assign"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Assign()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_AsyncFor"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_AsyncFor()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_AsyncFunctionDef"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_AsyncFunctionDef()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_AsyncWith"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_AsyncWith()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Attribute"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Attribute()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_AugAssign"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_AugAssign()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Await"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Await()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_BinOp"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_BinOp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_BoolOp"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_BoolOp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Break"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Break()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Bytes"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Bytes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Call"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Call()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_ClassDef"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_ClassDef()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Compare"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Compare()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Constant"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Constant()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Continue"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Continue()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Delete"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Delete()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Dict"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_DictComp"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_DictComp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Ellipsis"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Ellipsis()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_ExceptHandler"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_ExceptHandler()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Expr"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Expr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Expression"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Expression()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_ExtSlice"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_ExtSlice()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_For"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_For()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_FormattedValue"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_FormattedValue()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_FunctionDef"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_FunctionDef()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_GeneratorExp"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_GeneratorExp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Global"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Global()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_If"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_If()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_IfExp"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_IfExp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Import"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Import()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_ImportFrom"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_ImportFrom()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Index"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Index()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Interactive"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Interactive()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_JoinedStr"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_JoinedStr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Lambda"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Lambda()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_List"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_List()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_ListComp"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_ListComp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Match"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Match()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_MatchAs"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_MatchAs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_MatchClass"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_MatchClass()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_MatchMapping"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_MatchMapping()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_MatchOr"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_MatchOr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_MatchSequence"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_MatchSequence()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_MatchSingleton"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_MatchSingleton()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_MatchStar"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_MatchStar()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_MatchValue"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_MatchValue()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Module"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Module()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Name"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Name()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_NameConstant"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_NameConstant()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_NamedExpr"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_NamedExpr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Nonlocal"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Nonlocal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Num"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Num()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_ParamSpec"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_ParamSpec()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Pass"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Pass()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Raise"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Raise()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Return"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Return()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Set"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Set()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_SetComp"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_SetComp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Slice"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Slice()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Starred"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Starred()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Str"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Str()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Subscript"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Subscript()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Try"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Try()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Tuple"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Tuple()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_TypeAlias"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_TypeAlias()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_TypeVar"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_TypeVar()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_TypeVarTuple"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_TypeVarTuple()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_UnaryOp"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_UnaryOp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_While"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_While()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_With"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_With()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_Yield"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_Yield()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_YieldFrom"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_YieldFrom()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_alias"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_alias()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_arg"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_arg()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_arguments"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_arguments()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_comprehension"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_comprehension()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_keyword"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_keyword()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_match_case"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_match_case()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.visit_withitem"><code class="docutils literal notranslate"><span class="pre">Unparser.visit_withitem()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.Unparser.write"><code class="docutils literal notranslate"><span class="pre">Unparser.write()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.interleave"><code class="docutils literal notranslate"><span class="pre">interleave()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.is_simple_tuple"><code class="docutils literal notranslate"><span class="pre">is_simple_tuple()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.nullcontext"><code class="docutils literal notranslate"><span class="pre">nullcontext()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="spack.util.unparse.html#spack.util.unparse.unparser.pnext"><code class="docutils literal notranslate"><span class="pre">pnext()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-spack.util.archive">
<span id="spack-util-archive-module"></span><h2>spack.util.archive module<a class="headerlink" href="#module-spack.util.archive" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.archive.</span></span><span class="sig-name descname"><span class="pre">ChecksumWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm=&lt;built-in</span> <span class="pre">function</span> <span class="pre">openssl_sha256&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/io.html#io.BufferedIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BufferedIOBase</span></code></a></p>
<p>Checksum writer computes a checksum while writing to a file.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.close" title="Link to this definition"></a></dt>
<dd><p>Flush and close the IO object.</p>
<p>This method has no effect if the file is already closed.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.closed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">closed</span></span><a class="headerlink" href="#spack.util.archive.ChecksumWriter.closed" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.fileno">
<span class="sig-name descname"><span class="pre">fileno</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.fileno"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.fileno" title="Link to this definition"></a></dt>
<dd><p>Return underlying file descriptor if one exists.</p>
<p>Raise OSError if the IO object does not use a file descriptor.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.flush"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.flush" title="Link to this definition"></a></dt>
<dd><p>Flush write buffers, if applicable.</p>
<p>This is not implemented for read-only and non-blocking streams.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.hexdigest">
<span class="sig-name descname"><span class="pre">hexdigest</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.hexdigest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.hexdigest" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.myfileobj">
<span class="sig-name descname"><span class="pre">myfileobj</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#spack.util.archive.ChecksumWriter.myfileobj" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.peek">
<span class="sig-name descname"><span class="pre">peek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.peek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.peek" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.read" title="Link to this definition"></a></dt>
<dd><p>Read and return up to n bytes.</p>
<p>If the size argument is omitted, None, or negative, read and
return all data until EOF.</p>
<p>If the size argument is positive, and the underlying raw stream is
not ‘interactive’, multiple raw reads may be issued to satisfy
the byte count (unless EOF is reached first).
However, for interactive raw streams (as well as sockets and pipes),
at most one raw read will be issued, and a short result does not
imply that EOF is imminent.</p>
<p>Return an empty bytes object on EOF.</p>
<p>Return None if the underlying raw stream was open in non-blocking
mode and no data is available at the moment.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.read1">
<span class="sig-name descname"><span class="pre">read1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.read1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.read1" title="Link to this definition"></a></dt>
<dd><p>Read and return up to size bytes, with at most one read() call to the underlying raw stream.</p>
<p>Return an empty bytes object on EOF.
A short result does not imply that EOF is imminent.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.readable">
<span class="sig-name descname"><span class="pre">readable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.readable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.readable" title="Link to this definition"></a></dt>
<dd><p>Return whether object was opened for reading.</p>
<p>If False, read() will raise OSError.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.readline">
<span class="sig-name descname"><span class="pre">readline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.readline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.readline" title="Link to this definition"></a></dt>
<dd><p>Read and return a line from the stream.</p>
<p>If size is specified, at most size bytes will be read.</p>
<p>The line terminator is always b’n’ for binary files; for text
files, the newlines argument to open can be used to select the line
terminator(s) recognized.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.rewind">
<span class="sig-name descname"><span class="pre">rewind</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.rewind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.rewind" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.seek" title="Link to this definition"></a></dt>
<dd><p>Change the stream position to the given byte offset.</p>
<blockquote>
<div><dl class="simple">
<dt>offset</dt><dd><p>The stream position, relative to ‘whence’.</p>
</dd>
<dt>whence</dt><dd><p>The relative position to seek from.</p>
</dd>
</dl>
</div></blockquote>
<p>The offset is interpreted relative to the position indicated by whence.
Values for whence are:</p>
<ul class="simple">
<li><p>os.SEEK_SET or 0 – start of stream (the default); offset should be zero or positive</p></li>
<li><p>os.SEEK_CUR or 1 – current stream position; offset may be negative</p></li>
<li><p>os.SEEK_END or 2 – end of stream; offset is usually negative</p></li>
</ul>
<p>Return the new absolute position.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.seekable">
<span class="sig-name descname"><span class="pre">seekable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.seekable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.seekable" title="Link to this definition"></a></dt>
<dd><p>Return whether object supports random access.</p>
<p>If False, seek(), tell() and truncate() will raise OSError.
This method may need to do a test seek().</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.tell" title="Link to this definition"></a></dt>
<dd><p>Return current stream position.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.writable">
<span class="sig-name descname"><span class="pre">writable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.writable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.writable" title="Link to this definition"></a></dt>
<dd><p>Return whether object was opened for writing.</p>
<p>If False, write() will raise OSError.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.archive.ChecksumWriter.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#ChecksumWriter.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.ChecksumWriter.write" title="Link to this definition"></a></dt>
<dd><p>Write buffer b to the IO stream.</p>
<p>Return the number of bytes written, which is always
the length of b in bytes.</p>
<p>Raise BlockingIOError if the buffer is full and the
underlying raw stream cannot accept more data at the moment.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.archive.default_path_to_name">
<span class="sig-prename descclassname"><span class="pre">spack.util.archive.</span></span><span class="sig-name descname"><span class="pre">default_path_to_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/spack/util/archive.html#default_path_to_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.default_path_to_name" title="Link to this definition"></a></dt>
<dd><p>Converts a path to a tarfile name, which uses posix path separators.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.archive.gzip_compressed_tarfile">
<span class="sig-prename descclassname"><span class="pre">spack.util.archive.</span></span><span class="sig-name descname"><span class="pre">gzip_compressed_tarfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/archive.html#gzip_compressed_tarfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.gzip_compressed_tarfile" title="Link to this definition"></a></dt>
<dd><p>Create a reproducible, gzip compressed tarfile, and keep track of shasums of both the
compressed and uncompressed tarfile. Reproduciblity is achived by normalizing the gzip header
(no file name and zero mtime).</p>
<dl class="simple">
<dt>Yields a tuple of the following:</dt><dd><p>tarfile.TarFile: tarfile object
ChecksumWriter: checksum of the gzip compressed tarfile
ChecksumWriter: checksum of the uncompressed tarfile</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.archive.reproducible_tarfile_from_prefix">
<span class="sig-prename descclassname"><span class="pre">spack.util.archive.</span></span><span class="sig-name descname"><span class="pre">reproducible_tarfile_from_prefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">tar:</span> <span class="pre">~tarfile.TarFile,</span> <span class="pre">prefix:</span> <span class="pre">str,</span> <span class="pre">*,</span> <span class="pre">include_parent_directories:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">skip:</span> <span class="pre">~typing.Callable[[~posix.DirEntry],</span> <span class="pre">bool]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">path_to_name:</span> <span class="pre">~typing.Callable[[str],</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">default_path_to_name&gt;</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/archive.html#reproducible_tarfile_from_prefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.archive.reproducible_tarfile_from_prefix" title="Link to this definition"></a></dt>
<dd><p>Create a tarball from a given directory. Only adds regular files, symlinks and dirs.
Skips devices, fifos. Preserves hardlinks. Normalizes permissions like git. Tar entries are
added in depth-first pre-order, with dir entries partitioned by file | dir, and sorted
lexicographically, for reproducibility. Partitioning ensures only one dir is in memory at a
time, and sorting improves compression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tar</strong> – tarfile object opened in write mode</p></li>
<li><p><strong>prefix</strong> – path to directory to tar (either absolute or relative)</p></li>
<li><p><strong>include_parent_directories</strong> – whether to include every directory leading up to <code class="docutils literal notranslate"><span class="pre">prefix</span></code> in
the tarball</p></li>
<li><p><strong>skip</strong> – function that receives a DirEntry and returns True if the entry should be skipped,
whether it is a file or directory. Default implementation does not skip anything.</p></li>
<li><p><strong>path_to_name</strong> – function that converts a path string to a tarfile entry name, which should be
in posix format. Not only is it necessary to transform paths in certain cases, such as
windows path to posix format, but it can also be used to prepend a directory to each
entry even if it does not exist on the filesystem. The default implementation drops the
leading slash on posix and the drive letter on windows for absolute paths, and formats
as a posix.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.compression">
<span id="spack-util-compression-module"></span><h2>spack.util.compression module<a class="headerlink" href="#module-spack.util.compression" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.compression.BZipFileType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">BZipFileType</span></span><a class="reference internal" href="_modules/spack/util/compression.html#BZipFileType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.BZipFileType" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.compression.CompressedFileTypeInterface" title="spack.util.compression.CompressedFileTypeInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompressedFileTypeInterface</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.BZipFileType.extension">
<span class="sig-name descname"><span class="pre">extension</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'bz2'</span></em><a class="headerlink" href="#spack.util.compression.BZipFileType.extension" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.BZipFileType.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'bzip2</span> <span class="pre">compressed</span> <span class="pre">data'</span></em><a class="headerlink" href="#spack.util.compression.BZipFileType.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.compression.BZipFileType.peek">
<span class="sig-name descname"><span class="pre">peek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bytes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BytesIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/compression.html#BZipFileType.peek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.BZipFileType.peek" title="Link to this definition"></a></dt>
<dd><p>This method returns the first num_bytes of a decompressed stream. Returns None if no
builtin support for decompression.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.compression.CompressedFileTypeInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">CompressedFileTypeInterface</span></span><a class="reference internal" href="_modules/spack/util/compression.html#CompressedFileTypeInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.CompressedFileTypeInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.compression.FileTypeInterface" title="spack.util.compression.FileTypeInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileTypeInterface</span></code></a></p>
<p>Interface class for FileTypes that include compression information</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.compression.CompressedFileTypeInterface.peek">
<span class="sig-name descname"><span class="pre">peek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bytes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BytesIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/compression.html#CompressedFileTypeInterface.peek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.CompressedFileTypeInterface.peek" title="Link to this definition"></a></dt>
<dd><p>This method returns the first num_bytes of a decompressed stream. Returns None if no
builtin support for decompression.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.compression.FileTypeInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">FileTypeInterface</span></span><a class="reference internal" href="_modules/spack/util/compression.html#FileTypeInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.FileTypeInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base interface class for describing and querying file type information. FileType describes
information about a single file type such as typical extension and byte header properties,
and provides an interface to check a given file against said type based on magic number.</p>
<p>This class should be subclassed each time a new type is to be described.</p>
<p>Subclasses should each describe a different type of file. In order to do so, they must define
the extension string, magic number, and header offset (if non zero). If a class has multiple
magic numbers, it will need to override the method describing that file type’s magic numbers
and the method that checks a types magic numbers against a given file’s.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.FileTypeInterface.OFFSET">
<span class="sig-name descname"><span class="pre">OFFSET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#spack.util.compression.FileTypeInterface.OFFSET" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.FileTypeInterface.extension">
<span class="sig-name descname"><span class="pre">extension</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#spack.util.compression.FileTypeInterface.extension" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.compression.FileTypeInterface.header_size">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">header_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></span><a class="reference internal" href="_modules/spack/util/compression.html#FileTypeInterface.header_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.FileTypeInterface.header_size" title="Link to this definition"></a></dt>
<dd><p>Return size of largest magic number associated with file type</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.compression.FileTypeInterface.magic_numbers">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">magic_numbers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/compression.html#FileTypeInterface.magic_numbers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.FileTypeInterface.magic_numbers" title="Link to this definition"></a></dt>
<dd><p>Return a list of all potential magic numbers for a filetype</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.compression.FileTypeInterface.matches_magic">
<span class="sig-name descname"><span class="pre">matches_magic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/spack/util/compression.html#FileTypeInterface.matches_magic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.FileTypeInterface.matches_magic" title="Link to this definition"></a></dt>
<dd><p>Returns true if the stream matches the current file type by any of its magic numbers.
Resets stream to original position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stream</strong> – file byte stream</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.FileTypeInterface.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#spack.util.compression.FileTypeInterface.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.compression.GZipFileType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">GZipFileType</span></span><a class="reference internal" href="_modules/spack/util/compression.html#GZipFileType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.GZipFileType" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.compression.CompressedFileTypeInterface" title="spack.util.compression.CompressedFileTypeInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompressedFileTypeInterface</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.GZipFileType.extension">
<span class="sig-name descname"><span class="pre">extension</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'gz'</span></em><a class="headerlink" href="#spack.util.compression.GZipFileType.extension" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.GZipFileType.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'gzip</span> <span class="pre">compressed</span> <span class="pre">data'</span></em><a class="headerlink" href="#spack.util.compression.GZipFileType.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.compression.GZipFileType.peek">
<span class="sig-name descname"><span class="pre">peek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bytes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BytesIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/compression.html#GZipFileType.peek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.GZipFileType.peek" title="Link to this definition"></a></dt>
<dd><p>This method returns the first num_bytes of a decompressed stream. Returns None if no
builtin support for decompression.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.compression.LzmaFileType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">LzmaFileType</span></span><a class="reference internal" href="_modules/spack/util/compression.html#LzmaFileType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.LzmaFileType" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.compression.CompressedFileTypeInterface" title="spack.util.compression.CompressedFileTypeInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompressedFileTypeInterface</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.LzmaFileType.extension">
<span class="sig-name descname"><span class="pre">extension</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'xz'</span></em><a class="headerlink" href="#spack.util.compression.LzmaFileType.extension" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.LzmaFileType.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'xz</span> <span class="pre">compressed</span> <span class="pre">data'</span></em><a class="headerlink" href="#spack.util.compression.LzmaFileType.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.compression.LzmaFileType.peek">
<span class="sig-name descname"><span class="pre">peek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bytes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BytesIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/compression.html#LzmaFileType.peek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.LzmaFileType.peek" title="Link to this definition"></a></dt>
<dd><p>This method returns the first num_bytes of a decompressed stream. Returns None if no
builtin support for decompression.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="spack.util.compression.MAX_BYTES_ARCHIVE_HEADER">
<span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">MAX_BYTES_ARCHIVE_HEADER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">265</span></em><a class="headerlink" href="#spack.util.compression.MAX_BYTES_ARCHIVE_HEADER" title="Link to this definition"></a></dt>
<dd><p>Maximum number of bytes to read from a file to determine any archive type. Tar is the largest.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="spack.util.compression.SUPPORTED_FILETYPES">
<span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">SUPPORTED_FILETYPES</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#spack.util.compression.FileTypeInterface" title="spack.util.compression.FileTypeInterface"><span class="pre">FileTypeInterface</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[&lt;spack.util.compression.BZipFileType</span> <span class="pre">object&gt;,</span> <span class="pre">&lt;spack.util.compression.ZCompressedFileType</span> <span class="pre">object&gt;,</span> <span class="pre">&lt;spack.util.compression.GZipFileType</span> <span class="pre">object&gt;,</span> <span class="pre">&lt;spack.util.compression.LzmaFileType</span> <span class="pre">object&gt;,</span> <span class="pre">&lt;spack.util.compression.TarFileType</span> <span class="pre">object&gt;,</span> <span class="pre">&lt;spack.util.compression.ZipFleType</span> <span class="pre">object&gt;]</span></em><a class="headerlink" href="#spack.util.compression.SUPPORTED_FILETYPES" title="Link to this definition"></a></dt>
<dd><p>Collection of supported archive and compression file type identifier classes.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.compression.TarFileType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">TarFileType</span></span><a class="reference internal" href="_modules/spack/util/compression.html#TarFileType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.TarFileType" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.compression.FileTypeInterface" title="spack.util.compression.FileTypeInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileTypeInterface</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.TarFileType.OFFSET">
<span class="sig-name descname"><span class="pre">OFFSET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">257</span></em><a class="headerlink" href="#spack.util.compression.TarFileType.OFFSET" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.TarFileType.extension">
<span class="sig-name descname"><span class="pre">extension</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'tar'</span></em><a class="headerlink" href="#spack.util.compression.TarFileType.extension" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.TarFileType.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'tar</span> <span class="pre">archive'</span></em><a class="headerlink" href="#spack.util.compression.TarFileType.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.compression.ZCompressedFileType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">ZCompressedFileType</span></span><a class="reference internal" href="_modules/spack/util/compression.html#ZCompressedFileType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.ZCompressedFileType" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.compression.CompressedFileTypeInterface" title="spack.util.compression.CompressedFileTypeInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompressedFileTypeInterface</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.ZCompressedFileType.extension">
<span class="sig-name descname"><span class="pre">extension</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Z'</span></em><a class="headerlink" href="#spack.util.compression.ZCompressedFileType.extension" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.ZCompressedFileType.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&quot;compress'd</span> <span class="pre">data&quot;</span></em><a class="headerlink" href="#spack.util.compression.ZCompressedFileType.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.compression.ZipFleType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">ZipFleType</span></span><a class="reference internal" href="_modules/spack/util/compression.html#ZipFleType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.ZipFleType" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.compression.FileTypeInterface" title="spack.util.compression.FileTypeInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileTypeInterface</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.ZipFleType.extension">
<span class="sig-name descname"><span class="pre">extension</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'zip'</span></em><a class="headerlink" href="#spack.util.compression.ZipFleType.extension" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.compression.ZipFleType.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Zip</span> <span class="pre">archive</span> <span class="pre">data'</span></em><a class="headerlink" href="#spack.util.compression.ZipFleType.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.compression.decompressor_for">
<span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">decompressor_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/compression.html#decompressor_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.decompressor_for" title="Link to this definition"></a></dt>
<dd><p>Returns appropriate decompression/extraction algorithm function pointer
for provided extension. If extension is none, it is computed
from the <cite>path</cite> and the decompression function is derived
from that information.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.compression.decompressor_for_nix">
<span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">decompressor_for_nix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/compression.html#decompressor_for_nix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.decompressor_for_nix" title="Link to this definition"></a></dt>
<dd><p>Returns a function pointer to appropriate decompression algorithm based on extension type
and unix specific considerations i.e. a reasonable expectation system utils like gzip, bzip2,
and xz are available</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>extension</strong> – path of the archive file requiring decompression</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.compression.decompressor_for_win">
<span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">decompressor_for_win</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/compression.html#decompressor_for_win"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.decompressor_for_win" title="Link to this definition"></a></dt>
<dd><p>Returns a function pointer to appropriate decompression
algorithm based on extension type and Windows specific considerations</p>
<p>Windows natively vendors <em>only</em> tar, no other archive/compression utilities
So we must rely exclusively on Python module support for all compression
operations, tar for tarballs and zip files, and 7zip for Z compressed archives
and files as Python does not provide support for the UNIX compress algorithm</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.compression.extension_from_magic_numbers">
<span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">extension_from_magic_numbers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">decompress</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/compression.html#extension_from_magic_numbers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.extension_from_magic_numbers" title="Link to this definition"></a></dt>
<dd><p>Return typical extension without leading <code class="docutils literal notranslate"><span class="pre">.</span></code> of a compressed file or archive at the given
path, based on its magic numbers, similar to the <cite>file</cite> utility. Notice that the extension
returned from this function may not coincide with the file’s given extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – file to determine extension of</p></li>
<li><p><strong>decompress</strong> – If True, method will peek into decompressed file to check for archive file
types. If False, the method will return only the top-level extension (for example
<code class="docutils literal notranslate"><span class="pre">gz</span></code> and not <code class="docutils literal notranslate"><span class="pre">tar.gz</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Spack recognized archive file extension as determined by file’s magic number and file name.
If file is not on system or is of a type not recognized by Spack as an archive or
compression type, None is returned. If the file is classified as a compressed tarball, the
extension is abbreviated (for instance <code class="docutils literal notranslate"><span class="pre">tgz</span></code> not <code class="docutils literal notranslate"><span class="pre">tar.gz</span></code>) if that matches the file’s
given extension.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.compression.extension_from_magic_numbers_by_stream">
<span class="sig-prename descclassname"><span class="pre">spack.util.compression.</span></span><span class="sig-name descname"><span class="pre">extension_from_magic_numbers_by_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">decompress</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/compression.html#extension_from_magic_numbers_by_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.compression.extension_from_magic_numbers_by_stream" title="Link to this definition"></a></dt>
<dd><p>Returns the typical extension for the opened file, without leading <code class="docutils literal notranslate"><span class="pre">.</span></code>, based on its magic
numbers.</p>
<p>If the stream does not represent file type recongized by Spack (see
<a class="reference internal" href="#spack.util.compression.SUPPORTED_FILETYPES" title="spack.util.compression.SUPPORTED_FILETYPES"><code class="xref py py-data docutils literal notranslate"><span class="pre">SUPPORTED_FILETYPES</span></code></a>), the method will return None</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream</strong> – stream representing a file on system</p></li>
<li><p><strong>decompress</strong> – if True, compressed files are checked for archive types beneath compression.
For example tar.gz if True versus only gz if False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.cpus">
<span id="spack-util-cpus-module"></span><h2>spack.util.cpus module<a class="headerlink" href="#module-spack.util.cpus" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="spack.util.cpus.cpus_available">
<span class="sig-prename descclassname"><span class="pre">spack.util.cpus.</span></span><span class="sig-name descname"><span class="pre">cpus_available</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/cpus.html#cpus_available"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.cpus.cpus_available" title="Link to this definition"></a></dt>
<dd><p>Returns the number of CPUs available for the current process, or the number
of phyiscal CPUs when that information cannot be retrieved. The number
of available CPUs might differ from the number of physical CPUs when
using spack through Slurm or container runtimes.</p>
</dd></dl>

</section>
<section id="module-spack.util.crypto">
<span id="spack-util-crypto-module"></span><h2>spack.util.crypto module<a class="headerlink" href="#module-spack.util.crypto" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.crypto.Checker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.crypto.</span></span><span class="sig-name descname"><span class="pre">Checker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hexdigest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/crypto.html#Checker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.crypto.Checker" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A checker checks files against one particular hex digest.
It will automatically determine what hashing algorithm
to used based on the length of the digest it’s initialized
with.  e.g., if the digest is 32 hex characters long this will
use md5.</p>
<p>Example: know your tarball should hash to ‘abc123’.  You want
to check files against this.  You would use this class like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hexdigest</span> <span class="o">=</span> <span class="s1">&#39;abc123&#39;</span>
<span class="n">checker</span> <span class="o">=</span> <span class="n">Checker</span><span class="p">(</span><span class="n">hexdigest</span><span class="p">)</span>
<span class="n">success</span> <span class="o">=</span> <span class="n">checker</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s1">&#39;downloaded.tar.gz&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>After the call to check, the actual checksum is available in
checker.sum, in case it’s needed for error output.</p>
<p>You can trade read performance and memory usage by
adjusting the block_size optional arg.  By default it’s
a 1MB (2**20 bytes) buffer.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.crypto.Checker.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/spack/util/crypto.html#Checker.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.crypto.Checker.check" title="Link to this definition"></a></dt>
<dd><p>Read the file with the specified name and check its checksum
against self.hexdigest.  Return True if they match, False
otherwise.  Actual checksum is stored in self.sum.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="spack.util.crypto.Checker.hash_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hash_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#spack.util.crypto.Checker.hash_name" title="Link to this definition"></a></dt>
<dd><p>Get the name of the hash function this Checker is using.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.crypto.DeprecatedHash">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.crypto.</span></span><span class="sig-name descname"><span class="pre">DeprecatedHash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hash_alg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alert_fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_security_check</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/crypto.html#DeprecatedHash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.crypto.DeprecatedHash" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.crypto.bit_length">
<span class="sig-prename descclassname"><span class="pre">spack.util.crypto.</span></span><span class="sig-name descname"><span class="pre">bit_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/crypto.html#bit_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.crypto.bit_length" title="Link to this definition"></a></dt>
<dd><p>Number of bits required to represent an integer in binary.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.crypto.checksum">
<span class="sig-prename descclassname"><span class="pre">spack.util.crypto.</span></span><span class="sig-name descname"><span class="pre">checksum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hashlib_algo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">hashlib._Hash</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1048576</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/spack/util/crypto.html#checksum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.crypto.checksum" title="Link to this definition"></a></dt>
<dd><p>Returns a hex digest of the filename generated using an algorithm from hashlib.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.crypto.checksum_stream">
<span class="sig-prename descclassname"><span class="pre">spack.util.crypto.</span></span><span class="sig-name descname"><span class="pre">checksum_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hashlib_algo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">hashlib._Hash</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1048576</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/spack/util/crypto.html#checksum_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.crypto.checksum_stream" title="Link to this definition"></a></dt>
<dd><p>Returns a hex digest of the stream generated using given algorithm from hashlib.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.crypto.hash_algo_for_digest">
<span class="sig-prename descclassname"><span class="pre">spack.util.crypto.</span></span><span class="sig-name descname"><span class="pre">hash_algo_for_digest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hexdigest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/spack/util/crypto.html#hash_algo_for_digest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.crypto.hash_algo_for_digest" title="Link to this definition"></a></dt>
<dd><p>Gets name of the hash algorithm for a hex digest.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.crypto.hash_fun_for_algo">
<span class="sig-prename descclassname"><span class="pre">spack.util.crypto.</span></span><span class="sig-name descname"><span class="pre">hash_fun_for_algo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">algo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">hashlib._Hash</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/crypto.html#hash_fun_for_algo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.crypto.hash_fun_for_algo" title="Link to this definition"></a></dt>
<dd><p>Get a function that can perform the specified hash algorithm.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.crypto.hash_fun_for_digest">
<span class="sig-prename descclassname"><span class="pre">spack.util.crypto.</span></span><span class="sig-name descname"><span class="pre">hash_fun_for_digest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hexdigest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">hashlib._Hash</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/crypto.html#hash_fun_for_digest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.crypto.hash_fun_for_digest" title="Link to this definition"></a></dt>
<dd><p>Gets a hash function corresponding to a hex digest.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="spack.util.crypto.hashes">
<span class="sig-prename descclassname"><span class="pre">spack.util.crypto.</span></span><span class="sig-name descname"><span class="pre">hashes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'md5':</span> <span class="pre">16,</span> <span class="pre">'sha1':</span> <span class="pre">20,</span> <span class="pre">'sha224':</span> <span class="pre">28,</span> <span class="pre">'sha256':</span> <span class="pre">32,</span> <span class="pre">'sha384':</span> <span class="pre">48,</span> <span class="pre">'sha512':</span> <span class="pre">64}</span></em><a class="headerlink" href="#spack.util.crypto.hashes" title="Link to this definition"></a></dt>
<dd><p>Set of hash algorithms that Spack can use, mapped to digest size in bytes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.crypto.prefix_bits">
<span class="sig-prename descclassname"><span class="pre">spack.util.crypto.</span></span><span class="sig-name descname"><span class="pre">prefix_bits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">byte_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/crypto.html#prefix_bits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.crypto.prefix_bits" title="Link to this definition"></a></dt>
<dd><p>Return the first &lt;bits&gt; bits of a byte array as an integer.</p>
</dd></dl>

</section>
<section id="module-spack.util.debug">
<span id="spack-util-debug-module"></span><h2>spack.util.debug module<a class="headerlink" href="#module-spack.util.debug" title="Link to this heading"></a></h2>
<p>Debug signal handler: prints a stack trace and enters interpreter.</p>
<p><code class="docutils literal notranslate"><span class="pre">register_interrupt_handler()</span></code> enables a ctrl-C handler that prints
a stack trace and drops the user into an interpreter.</p>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.debug.ForkablePdb">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.debug.</span></span><span class="sig-name descname"><span class="pre">ForkablePdb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stdout_fd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stderr_fd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/debug.html#ForkablePdb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.debug.ForkablePdb" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/pdb.html#pdb.Pdb" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pdb</span></code></a></p>
<p>This class allows the python debugger to follow forked processes
and can set tracepoints allowing the Python Debugger Pdb to be used
from a python multiprocessing child process.</p>
<p>This is used the same way one would normally use Pdb, simply import this
class and use as a drop in for Pdb, although the syntax here is slightly different,
requiring the instantiton of this class, i.e. ForkablePdb().set_trace().</p>
<p>This should be used when attempting to call a debugger from a
child process spawned by the python multiprocessing such as during
the run of Spack.install, or any where else Spack spawns a child process.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.debug.debug_handler">
<span class="sig-prename descclassname"><span class="pre">spack.util.debug.</span></span><span class="sig-name descname"><span class="pre">debug_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/debug.html#debug_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.debug.debug_handler" title="Link to this definition"></a></dt>
<dd><p>Interrupt running process, and provide a python prompt for
interactive debugging.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.debug.register_interrupt_handler">
<span class="sig-prename descclassname"><span class="pre">spack.util.debug.</span></span><span class="sig-name descname"><span class="pre">register_interrupt_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/debug.html#register_interrupt_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.debug.register_interrupt_handler" title="Link to this definition"></a></dt>
<dd><p>Print traceback and enter an interpreter on Ctrl-C</p>
</dd></dl>

</section>
<section id="module-spack.util.editor">
<span id="spack-util-editor-module"></span><h2>spack.util.editor module<a class="headerlink" href="#module-spack.util.editor" title="Link to this heading"></a></h2>
<p>Module for finding the user’s preferred text editor.</p>
<p>Defines one function, editor(), which invokes the editor defined by the
user’s VISUAL environment variable if set. We fall back to the editor
defined by the EDITOR environment variable if VISUAL is not set or the
specified editor fails (e.g. no DISPLAY for a graphical editor). If
neither variable is set, we fall back to one of several common editors,
raising an EnvironmentError if we are unable to find one.</p>
<dl class="py function">
<dt class="sig sig-object py" id="spack.util.editor.editor">
<span class="sig-prename descclassname"><span class="pre">spack.util.editor.</span></span><span class="sig-name descname"><span class="pre">editor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">*args:</span> <span class="pre">str,</span> <span class="pre">exec_fn:</span> <span class="pre">~typing.Callable[[str,</span> <span class="pre">~typing.List[str]],</span> <span class="pre">int]</span> <span class="pre">=</span> <span class="pre">&lt;built-in</span> <span class="pre">function</span> <span class="pre">execv&gt;</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/spack/util/editor.html#editor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.editor.editor" title="Link to this definition"></a></dt>
<dd><p>Invoke the user’s editor.</p>
<p>This will try to execute the following, in order:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>$VISUAL &lt;args&gt;    # the “visual” editor (per POSIX)</p></li>
<li><p>$EDITOR &lt;args&gt;    # the regular editor (per POSIX)</p></li>
<li><p>some default editor (see <code class="docutils literal notranslate"><span class="pre">_default_editors</span></code>) with &lt;args&gt;</p></li>
</ol>
</div></blockquote>
<p>If an environment variable isn’t defined, it is skipped.  If it
points to something that can’t be executed, we’ll print a
warning. And if we can’t find anything that can be executed after
searching the full list above, we’ll raise an error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>args</strong> – args to pass to editor</p>
</dd>
</dl>
<dl class="simple">
<dt>Optional Arguments:</dt><dd><dl class="simple">
<dt>exec_fn: invoke this function to run; use <code class="docutils literal notranslate"><span class="pre">spack.util.editor.executable</span></code> if you</dt><dd><p>want something that returns, instead of the default <code class="docutils literal notranslate"><span class="pre">os.execv()</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.editor.executable">
<span class="sig-prename descclassname"><span class="pre">spack.util.editor.</span></span><span class="sig-name descname"><span class="pre">executable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></span><a class="reference internal" href="_modules/spack/util/editor.html#executable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.editor.executable" title="Link to this definition"></a></dt>
<dd><p>Wrapper that makes <code class="docutils literal notranslate"><span class="pre">spack.util.executable.Executable</span></code> look like <code class="docutils literal notranslate"><span class="pre">os.execv()</span></code>.</p>
<p>Use this with <code class="docutils literal notranslate"><span class="pre">editor()</span></code> if you want it to return instead of running <code class="docutils literal notranslate"><span class="pre">execv</span></code>.</p>
</dd></dl>

</section>
<section id="module-spack.util.elf">
<span id="spack-util-elf-module"></span><h2>spack.util.elf module<a class="headerlink" href="#module-spack.util.elf" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.elf.CStringType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">CStringType</span></span><a class="reference internal" href="_modules/spack/util/elf.html#CStringType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.CStringType" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.CStringType.PT_INTERP">
<span class="sig-name descname"><span class="pre">PT_INTERP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#spack.util.elf.CStringType.PT_INTERP" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.CStringType.RPATH">
<span class="sig-name descname"><span class="pre">RPATH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#spack.util.elf.CStringType.RPATH" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">ELF_CONSTANTS</span></span><a class="reference internal" href="_modules/spack/util/elf.html#ELF_CONSTANTS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.CLASS32">
<span class="sig-name descname"><span class="pre">CLASS32</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.CLASS32" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.CLASS64">
<span class="sig-name descname"><span class="pre">CLASS64</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.CLASS64" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.DATA2LSB">
<span class="sig-name descname"><span class="pre">DATA2LSB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.DATA2LSB" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.DATA2MSB">
<span class="sig-name descname"><span class="pre">DATA2MSB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.DATA2MSB" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.DT_NEEDED">
<span class="sig-name descname"><span class="pre">DT_NEEDED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.DT_NEEDED" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.DT_NULL">
<span class="sig-name descname"><span class="pre">DT_NULL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.DT_NULL" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.DT_RPATH">
<span class="sig-name descname"><span class="pre">DT_RPATH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">15</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.DT_RPATH" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.DT_RUNPATH">
<span class="sig-name descname"><span class="pre">DT_RUNPATH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">29</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.DT_RUNPATH" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.DT_SONAME">
<span class="sig-name descname"><span class="pre">DT_SONAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">14</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.DT_SONAME" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.DT_STRTAB">
<span class="sig-name descname"><span class="pre">DT_STRTAB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.DT_STRTAB" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.ET_DYN">
<span class="sig-name descname"><span class="pre">ET_DYN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.ET_DYN" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.ET_EXEC">
<span class="sig-name descname"><span class="pre">ET_EXEC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.ET_EXEC" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.MAGIC">
<span class="sig-name descname"><span class="pre">MAGIC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">b'\x7fELF'</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.MAGIC" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.PT_DYNAMIC">
<span class="sig-name descname"><span class="pre">PT_DYNAMIC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.PT_DYNAMIC" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.PT_INTERP">
<span class="sig-name descname"><span class="pre">PT_INTERP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.PT_INTERP" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.PT_LOAD">
<span class="sig-name descname"><span class="pre">PT_LOAD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.PT_LOAD" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ELF_CONSTANTS.SHT_STRTAB">
<span class="sig-name descname"><span class="pre">SHT_STRTAB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#spack.util.elf.ELF_CONSTANTS.SHT_STRTAB" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.elf.ElfCStringUpdatesFailed">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">ElfCStringUpdatesFailed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.elf.UpdateCStringAction" title="spack.util.elf.UpdateCStringAction"><span class="pre">UpdateCStringAction</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pt_interp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.elf.UpdateCStringAction" title="spack.util.elf.UpdateCStringAction"><span class="pre">UpdateCStringAction</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/elf.html#ElfCStringUpdatesFailed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.ElfCStringUpdatesFailed" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">ElfFile</span></span><a class="reference internal" href="_modules/spack/util/elf.html#ElfFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.ElfFile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Parsed ELF file.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.byte_order">
<span class="sig-name descname"><span class="pre">byte_order</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.byte_order" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.dt_needed_strs">
<span class="sig-name descname"><span class="pre">dt_needed_strs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#spack.util.elf.ElfFile.dt_needed_strs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.dt_needed_strtab_offsets">
<span class="sig-name descname"><span class="pre">dt_needed_strtab_offsets</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#spack.util.elf.ElfFile.dt_needed_strtab_offsets" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.dt_rpath_offset">
<span class="sig-name descname"><span class="pre">dt_rpath_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.dt_rpath_offset" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.dt_rpath_str">
<span class="sig-name descname"><span class="pre">dt_rpath_str</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.dt_rpath_str" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.dt_soname_str">
<span class="sig-name descname"><span class="pre">dt_soname_str</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.dt_soname_str" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.dt_soname_strtab_offset">
<span class="sig-name descname"><span class="pre">dt_soname_strtab_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.dt_soname_strtab_offset" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.elf_hdr">
<span class="sig-name descname"><span class="pre">elf_hdr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#spack.util.elf.ElfHeader" title="spack.util.elf.ElfHeader"><span class="pre">ElfHeader</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.elf_hdr" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.has_needed">
<span class="sig-name descname"><span class="pre">has_needed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.has_needed" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.has_pt_dynamic">
<span class="sig-name descname"><span class="pre">has_pt_dynamic</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.has_pt_dynamic" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.has_pt_interp">
<span class="sig-name descname"><span class="pre">has_pt_interp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.has_pt_interp" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.has_rpath">
<span class="sig-name descname"><span class="pre">has_rpath</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.has_rpath" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.has_soname">
<span class="sig-name descname"><span class="pre">has_soname</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.has_soname" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.is_64_bit">
<span class="sig-name descname"><span class="pre">is_64_bit</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.is_64_bit" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.is_little_endian">
<span class="sig-name descname"><span class="pre">is_little_endian</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.is_little_endian" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.is_runpath">
<span class="sig-name descname"><span class="pre">is_runpath</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.is_runpath" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.pt_dynamic_p_filesz">
<span class="sig-name descname"><span class="pre">pt_dynamic_p_filesz</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.pt_dynamic_p_filesz" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.pt_dynamic_p_offset">
<span class="sig-name descname"><span class="pre">pt_dynamic_p_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.pt_dynamic_p_offset" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.pt_dynamic_strtab_offset">
<span class="sig-name descname"><span class="pre">pt_dynamic_strtab_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.pt_dynamic_strtab_offset" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.pt_interp_p_filesz">
<span class="sig-name descname"><span class="pre">pt_interp_p_filesz</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.pt_interp_p_filesz" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.pt_interp_p_offset">
<span class="sig-name descname"><span class="pre">pt_interp_p_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.pt_interp_p_offset" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.pt_interp_str">
<span class="sig-name descname"><span class="pre">pt_interp_str</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.pt_interp_str" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.pt_load">
<span class="sig-name descname"><span class="pre">pt_load</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#spack.util.elf.ElfFile.pt_load" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfFile.rpath_strtab_offset">
<span class="sig-name descname"><span class="pre">rpath_strtab_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfFile.rpath_strtab_offset" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">ElfHeader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e_machine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e_version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e_entry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e_phoff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e_shoff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e_flags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e_ehsize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e_phentsize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e_phnum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e_shentsize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e_shnum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e_shstrndx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/elf.html#ElfHeader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.ElfHeader" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_ehsize">
<span class="sig-name descname"><span class="pre">e_ehsize</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_ehsize" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 7</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_entry">
<span class="sig-name descname"><span class="pre">e_entry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_entry" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_flags">
<span class="sig-name descname"><span class="pre">e_flags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_flags" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 6</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_machine">
<span class="sig-name descname"><span class="pre">e_machine</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_machine" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_phentsize">
<span class="sig-name descname"><span class="pre">e_phentsize</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_phentsize" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 8</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_phnum">
<span class="sig-name descname"><span class="pre">e_phnum</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_phnum" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 9</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_phoff">
<span class="sig-name descname"><span class="pre">e_phoff</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_phoff" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_shentsize">
<span class="sig-name descname"><span class="pre">e_shentsize</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_shentsize" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 10</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_shnum">
<span class="sig-name descname"><span class="pre">e_shnum</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_shnum" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 11</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_shoff">
<span class="sig-name descname"><span class="pre">e_shoff</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_shoff" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_shstrndx">
<span class="sig-name descname"><span class="pre">e_shstrndx</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_shstrndx" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 12</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_type">
<span class="sig-name descname"><span class="pre">e_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_type" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ElfHeader.e_version">
<span class="sig-name descname"><span class="pre">e_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ElfHeader.e_version" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.elf.ElfParsingError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">ElfParsingError</span></span><a class="reference internal" href="_modules/spack/util/elf.html#ElfParsingError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.ElfParsingError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader32">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">ProgramHeader32</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_vaddr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_paddr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_filesz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_memsz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_flags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_align</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/elf.html#ProgramHeader32"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.ProgramHeader32" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader32.p_align">
<span class="sig-name descname"><span class="pre">p_align</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader32.p_align" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 7</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader32.p_filesz">
<span class="sig-name descname"><span class="pre">p_filesz</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader32.p_filesz" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader32.p_flags">
<span class="sig-name descname"><span class="pre">p_flags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader32.p_flags" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 6</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader32.p_memsz">
<span class="sig-name descname"><span class="pre">p_memsz</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader32.p_memsz" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader32.p_offset">
<span class="sig-name descname"><span class="pre">p_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader32.p_offset" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader32.p_paddr">
<span class="sig-name descname"><span class="pre">p_paddr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader32.p_paddr" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader32.p_type">
<span class="sig-name descname"><span class="pre">p_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader32.p_type" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader32.p_vaddr">
<span class="sig-name descname"><span class="pre">p_vaddr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader32.p_vaddr" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader64">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">ProgramHeader64</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_flags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_vaddr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_paddr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_filesz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_memsz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_align</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/elf.html#ProgramHeader64"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.ProgramHeader64" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader64.p_align">
<span class="sig-name descname"><span class="pre">p_align</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader64.p_align" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 7</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader64.p_filesz">
<span class="sig-name descname"><span class="pre">p_filesz</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader64.p_filesz" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader64.p_flags">
<span class="sig-name descname"><span class="pre">p_flags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader64.p_flags" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader64.p_memsz">
<span class="sig-name descname"><span class="pre">p_memsz</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader64.p_memsz" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 6</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader64.p_offset">
<span class="sig-name descname"><span class="pre">p_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader64.p_offset" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader64.p_paddr">
<span class="sig-name descname"><span class="pre">p_paddr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader64.p_paddr" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader64.p_type">
<span class="sig-name descname"><span class="pre">p_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader64.p_type" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.ProgramHeader64.p_vaddr">
<span class="sig-name descname"><span class="pre">p_vaddr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.ProgramHeader64.p_vaddr" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.elf.SectionHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">SectionHeader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sh_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh_flags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh_addr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh_offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh_link</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh_addralign</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh_entsize</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/elf.html#SectionHeader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.SectionHeader" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.SectionHeader.sh_addr">
<span class="sig-name descname"><span class="pre">sh_addr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.SectionHeader.sh_addr" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.SectionHeader.sh_addralign">
<span class="sig-name descname"><span class="pre">sh_addralign</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.SectionHeader.sh_addralign" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 8</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.SectionHeader.sh_entsize">
<span class="sig-name descname"><span class="pre">sh_entsize</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.SectionHeader.sh_entsize" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 9</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.SectionHeader.sh_flags">
<span class="sig-name descname"><span class="pre">sh_flags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.SectionHeader.sh_flags" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.SectionHeader.sh_info">
<span class="sig-name descname"><span class="pre">sh_info</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.SectionHeader.sh_info" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 7</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.SectionHeader.sh_link">
<span class="sig-name descname"><span class="pre">sh_link</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.SectionHeader.sh_link" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 6</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.SectionHeader.sh_name">
<span class="sig-name descname"><span class="pre">sh_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.SectionHeader.sh_name" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.SectionHeader.sh_offset">
<span class="sig-name descname"><span class="pre">sh_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.SectionHeader.sh_offset" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.SectionHeader.sh_size">
<span class="sig-name descname"><span class="pre">sh_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.SectionHeader.sh_size" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.elf.SectionHeader.sh_type">
<span class="sig-name descname"><span class="pre">sh_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#spack.util.elf.SectionHeader.sh_type" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.elf.UpdateCStringAction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">UpdateCStringAction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/elf.html#UpdateCStringAction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.UpdateCStringAction" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.elf.UpdateCStringAction.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#UpdateCStringAction.apply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.UpdateCStringAction.apply" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="spack.util.elf.UpdateCStringAction.inplace">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">inplace</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#spack.util.elf.UpdateCStringAction.inplace" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.delete_rpath">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">delete_rpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#delete_rpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.delete_rpath" title="Link to this definition"></a></dt>
<dd><p>Modifies a binary to remove the rpath. It zeros out the rpath string and also drops the
DT_R(UN)PATH entry from the dynamic section, so it doesn’t show up in ‘readelf -d file’, nor
in ‘strings file’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.find_strtab_size_at_offset">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">find_strtab_size_at_offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">elf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.elf.ElfFile" title="spack.util.elf.ElfFile"><span class="pre">ElfFile</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#find_strtab_size_at_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.find_strtab_size_at_offset" title="Link to this definition"></a></dt>
<dd><p>Retrieve the size of a string table section at a particular known offset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> – file handle</p></li>
<li><p><strong>elf</strong> – ELF file parser data</p></li>
<li><p><strong>offset</strong> – offset of the section in the file (i.e. <code class="docutils literal notranslate"><span class="pre">sh_offset</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the size of the string table in bytes</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.get_elf_compat">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">get_elf_compat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/elf.html#get_elf_compat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.get_elf_compat" title="Link to this definition"></a></dt>
<dd><p>Get a triplet (EI_CLASS, EI_DATA, e_machine) from an ELF file, which can be used to see if
two ELF files are compatible.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.get_interpreter">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">get_interpreter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#get_interpreter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.get_interpreter" title="Link to this definition"></a></dt>
<dd><p>Returns the interpreter of the given file as UTF-8 string, or None if not set.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.get_rpaths">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">get_rpaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#get_rpaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.get_rpaths" title="Link to this definition"></a></dt>
<dd><p>Returns list of rpaths of the given file as UTF-8 strings, or None if not set.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.parse_c_string">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">parse_c_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">byte_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#parse_c_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.parse_c_string" title="Link to this definition"></a></dt>
<dd><p>Retrieve a C-string at a given offset in a byte string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>byte_string</strong> – String</p></li>
<li><p><strong>start</strong> – Offset into the string</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the C-string excluding the terminating null byte</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.parse_elf">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">parse_elf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpreter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dynamic_section</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#spack.util.elf.ElfFile" title="spack.util.elf.ElfFile"><span class="pre">ElfFile</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#parse_elf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.parse_elf" title="Link to this definition"></a></dt>
<dd><p>Given a file handle f for an ELF file opened in binary mode, return an ElfFile
object that is stores data about rpaths</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.parse_header">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">parse_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">elf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.elf.ElfFile" title="spack.util.elf.ElfFile"><span class="pre">ElfFile</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#parse_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.parse_header" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.parse_program_headers">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">parse_program_headers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">elf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.elf.ElfFile" title="spack.util.elf.ElfFile"><span class="pre">ElfFile</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#parse_program_headers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.parse_program_headers" title="Link to this definition"></a></dt>
<dd><p>Parse program headers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> – file handle</p></li>
<li><p><strong>elf</strong> – ELF file parser data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.parse_pt_dynamic">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">parse_pt_dynamic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">elf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.elf.ElfFile" title="spack.util.elf.ElfFile"><span class="pre">ElfFile</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#parse_pt_dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.parse_pt_dynamic" title="Link to this definition"></a></dt>
<dd><p>Parse the dynamic section of an ELF file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> – file handle</p></li>
<li><p><strong>elf</strong> – ELF file parse data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.parse_pt_interp">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">parse_pt_interp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">elf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.elf.ElfFile" title="spack.util.elf.ElfFile"><span class="pre">ElfFile</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#parse_pt_interp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.parse_pt_interp" title="Link to this definition"></a></dt>
<dd><p>Parse the interpreter (i.e. absolute path to the dynamic linker)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> – file handle</p></li>
<li><p><strong>elf</strong> – ELF file parser data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.pt_interp">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">pt_interp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#pt_interp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.pt_interp" title="Link to this definition"></a></dt>
<dd><p>Retrieve the interpreter of an executable at <cite>path</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.read_exactly">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">read_exactly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bytes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#read_exactly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.read_exactly" title="Link to this definition"></a></dt>
<dd><p>Read exactly num_bytes at the current offset, otherwise raise
a parsing error with the given error message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> – file handle</p></li>
<li><p><strong>num_bytes</strong> – Number of bytes to read</p></li>
<li><p><strong>msg</strong> – Error to show when bytes cannot be read</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the <code class="docutils literal notranslate"><span class="pre">num_bytes</span></code> bytes that were read.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.retrieve_strtab">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">retrieve_strtab</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.13)"><span class="pre">BinaryIO</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">elf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.elf.ElfFile" title="spack.util.elf.ElfFile"><span class="pre">ElfFile</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#retrieve_strtab"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.retrieve_strtab" title="Link to this definition"></a></dt>
<dd><p>Read a full string table at the given offset, which
requires looking it up in the section headers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elf</strong> – ELF file parser data</p></li>
<li><p><strong>vaddr</strong> – virtual address</p></li>
</ul>
</dd>
</dl>
<p>Returns: file offset</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.substitute_rpath_and_pt_interp_in_place_or_raise">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">substitute_rpath_and_pt_interp_in_place_or_raise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">substitutions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#substitute_rpath_and_pt_interp_in_place_or_raise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.substitute_rpath_and_pt_interp_in_place_or_raise" title="Link to this definition"></a></dt>
<dd><p>Returns true if the rpath and interpreter were modified, false if there was nothing to do.
Raises ElfCStringUpdatesFailed if the ELF file cannot be updated in-place. This exception
contains a list of actions to perform with other tools. The file is left untouched in this
case.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.elf.vaddr_to_offset">
<span class="sig-prename descclassname"><span class="pre">spack.util.elf.</span></span><span class="sig-name descname"><span class="pre">vaddr_to_offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.elf.ElfFile" title="spack.util.elf.ElfFile"><span class="pre">ElfFile</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">vaddr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></span><a class="reference internal" href="_modules/spack/util/elf.html#vaddr_to_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.elf.vaddr_to_offset" title="Link to this definition"></a></dt>
<dd><p>Given a virtual address, find the corresponding offset in the ELF file itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elf</strong> – ELF file parser data</p></li>
<li><p><strong>vaddr</strong> – virtual address</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.environment">
<span id="spack-util-environment-module"></span><h2>spack.util.environment module<a class="headerlink" href="#module-spack.util.environment" title="Link to this heading"></a></h2>
<p>Set, unset or modify environment variables.</p>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.AppendFlagsEnv">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">AppendFlagsEnv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.Trace" title="spack.util.environment.Trace"><span class="pre">Trace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#AppendFlagsEnv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.AppendFlagsEnv" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.environment.NameValueModifier" title="spack.util.environment.NameValueModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">NameValueModifier</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.AppendFlagsEnv.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#AppendFlagsEnv.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.AppendFlagsEnv.execute" title="Link to this definition"></a></dt>
<dd><p>Apply the modification to the mapping passed as input</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.AppendFlagsEnv.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#spack.util.environment.AppendFlagsEnv.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.AppendFlagsEnv.separator">
<span class="sig-name descname"><span class="pre">separator</span></span><a class="headerlink" href="#spack.util.environment.AppendFlagsEnv.separator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.AppendFlagsEnv.trace">
<span class="sig-name descname"><span class="pre">trace</span></span><a class="headerlink" href="#spack.util.environment.AppendFlagsEnv.trace" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.AppendFlagsEnv.value">
<span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#spack.util.environment.AppendFlagsEnv.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.AppendPath">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">AppendPath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.Trace" title="spack.util.environment.Trace"><span class="pre">Trace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#AppendPath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.AppendPath" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.environment.NameValueModifier" title="spack.util.environment.NameValueModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">NameValueModifier</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.AppendPath.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#AppendPath.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.AppendPath.execute" title="Link to this definition"></a></dt>
<dd><p>Apply the modification to the mapping passed as input</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.AppendPath.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#spack.util.environment.AppendPath.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.AppendPath.separator">
<span class="sig-name descname"><span class="pre">separator</span></span><a class="headerlink" href="#spack.util.environment.AppendPath.separator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.AppendPath.trace">
<span class="sig-name descname"><span class="pre">trace</span></span><a class="headerlink" href="#spack.util.environment.AppendPath.trace" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.AppendPath.value">
<span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#spack.util.environment.AppendPath.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.DeprioritizeSystemPaths">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">DeprioritizeSystemPaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.Trace" title="spack.util.environment.Trace"><span class="pre">Trace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#DeprioritizeSystemPaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.DeprioritizeSystemPaths" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.environment.NameModifier" title="spack.util.environment.NameModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">NameModifier</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.DeprioritizeSystemPaths.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#DeprioritizeSystemPaths.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.DeprioritizeSystemPaths.execute" title="Link to this definition"></a></dt>
<dd><p>Apply the modification to the mapping passed as input</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.DeprioritizeSystemPaths.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#spack.util.environment.DeprioritizeSystemPaths.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.DeprioritizeSystemPaths.separator">
<span class="sig-name descname"><span class="pre">separator</span></span><a class="headerlink" href="#spack.util.environment.DeprioritizeSystemPaths.separator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.DeprioritizeSystemPaths.trace">
<span class="sig-name descname"><span class="pre">trace</span></span><a class="headerlink" href="#spack.util.environment.DeprioritizeSystemPaths.trace" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">EnvironmentModifications</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.EnvironmentModifications" title="spack.util.environment.EnvironmentModifications"><span class="pre">EnvironmentModifications</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traced</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Keeps track of requests to modify the current environment.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.append_flags">
<span class="sig-name descname"><span class="pre">append_flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.append_flags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.append_flags" title="Link to this definition"></a></dt>
<dd><p>Stores a request to append ‘flags’ to an environment variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the environment variable</p></li>
<li><p><strong>value</strong> – flags to be appended</p></li>
<li><p><strong>sep</strong> – separator for the flags (default: “ “)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.append_path">
<span class="sig-name descname"><span class="pre">append_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.append_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.append_path" title="Link to this definition"></a></dt>
<dd><p>Stores a request to append a path to list of paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the environment variable</p></li>
<li><p><strong>path</strong> – path to be appended</p></li>
<li><p><strong>separator</strong> – separator for the paths (default: os.pathsep)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.apply_modifications">
<span class="sig-name descname"><span class="pre">apply_modifications</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.apply_modifications"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.apply_modifications" title="Link to this definition"></a></dt>
<dd><p>Applies the modifications and clears the list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>env</strong> – environment to be modified. If None, os.environ will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.clear" title="Link to this definition"></a></dt>
<dd><p>Clears the current list of modifications.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.deprioritize_system_paths">
<span class="sig-name descname"><span class="pre">deprioritize_system_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.deprioritize_system_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.deprioritize_system_paths" title="Link to this definition"></a></dt>
<dd><p>Stores a request to deprioritize system paths in a path list,
otherwise preserving the order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the environment variable</p></li>
<li><p><strong>separator</strong> – separator for the paths (default: os.pathsep)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.drop">
<span class="sig-name descname"><span class="pre">drop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.drop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.drop" title="Link to this definition"></a></dt>
<dd><p>Drop all modifications to the variable with the given name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.extend">
<span class="sig-name descname"><span class="pre">extend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.EnvironmentModifications" title="spack.util.environment.EnvironmentModifications"><span class="pre">EnvironmentModifications</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.extend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.extend" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.from_environment_diff">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_environment_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">before</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#spack.util.environment.EnvironmentModifications" title="spack.util.environment.EnvironmentModifications"><span class="pre">EnvironmentModifications</span></a></span></span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.from_environment_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.from_environment_diff" title="Link to this definition"></a></dt>
<dd><p>Constructs the environment modifications from the diff of two environments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>before</strong> – environment before the modifications are applied</p></li>
<li><p><strong>after</strong> – environment after the modifications are applied</p></li>
<li><p><strong>clean</strong> – in addition to removing empty entries, also remove duplicate entries</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.from_sourcing_file">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_sourcing_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#spack.util.environment.EnvironmentModifications" title="spack.util.environment.EnvironmentModifications"><span class="pre">EnvironmentModifications</span></a></span></span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.from_sourcing_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.from_sourcing_file" title="Link to this definition"></a></dt>
<dd><p>Returns the environment modifications that have the same effect as
sourcing the input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – the file to be sourced</p></li>
<li><p><strong>*arguments</strong> – arguments to pass on the command line</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>shell</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – the shell to use (default: <code class="docutils literal notranslate"><span class="pre">bash</span></code>)</p></li>
<li><p><strong>shell_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – options passed to the shell (default: <code class="docutils literal notranslate"><span class="pre">-c</span></code>)</p></li>
<li><p><strong>source_command</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – the command to run (default: <code class="docutils literal notranslate"><span class="pre">source</span></code>)</p></li>
<li><p><strong>suppress_output</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – redirect used to suppress output of command
(default: <code class="docutils literal notranslate"><span class="pre">&amp;&gt;</span> <span class="pre">/dev/null</span></code>)</p></li>
<li><p><strong>concatenate_on_success</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – operator used to execute a command
only when the previous command succeeds (default: <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>)</p></li>
<li><p><strong>exclude</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/re.html#re.Pattern" title="(in Python v3.13)"><em>re.Pattern</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em><em>]</em>) – ignore any modifications of these
variables (default: [])</p></li>
<li><p><strong>include</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/re.html#re.Pattern" title="(in Python v3.13)"><em>re.Pattern</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em><em>]</em>) – always respect modifications of these
variables (default: []). Supersedes any excluded variables.</p></li>
<li><p><strong>clean</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – in addition to removing empty entries,
also remove duplicate entries (default: False).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.group_by_name">
<span class="sig-name descname"><span class="pre">group_by_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#spack.util.environment.NameModifier" title="spack.util.environment.NameModifier"><span class="pre">NameModifier</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#spack.util.environment.NameValueModifier" title="spack.util.environment.NameValueModifier"><span class="pre">NameValueModifier</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.group_by_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.group_by_name" title="Link to this definition"></a></dt>
<dd><p>Returns a dict of the current modifications keyed by variable name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.is_unset">
<span class="sig-name descname"><span class="pre">is_unset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.is_unset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.is_unset" title="Link to this definition"></a></dt>
<dd><p>Returns True if the last modification to a variable is to unset it, False otherwise.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.prepend_path">
<span class="sig-name descname"><span class="pre">prepend_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.prepend_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.prepend_path" title="Link to this definition"></a></dt>
<dd><p>Stores a request to prepend a path to list of paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the environment variable</p></li>
<li><p><strong>path</strong> – path to be prepended</p></li>
<li><p><strong>separator</strong> – separator for the paths (default: os.pathsep)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.prune_duplicate_paths">
<span class="sig-name descname"><span class="pre">prune_duplicate_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.prune_duplicate_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.prune_duplicate_paths" title="Link to this definition"></a></dt>
<dd><p>Stores a request to remove duplicates from a path list, otherwise
preserving the order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the environment variable</p></li>
<li><p><strong>separator</strong> – separator for the paths (default: os.pathsep)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.remove_flags">
<span class="sig-name descname"><span class="pre">remove_flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.remove_flags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.remove_flags" title="Link to this definition"></a></dt>
<dd><p>Stores a request to remove flags from an environment variable</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the environment variable</p></li>
<li><p><strong>value</strong> – flags to be removed</p></li>
<li><p><strong>sep</strong> – separator for the flags (default: “ “)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.remove_path">
<span class="sig-name descname"><span class="pre">remove_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.remove_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.remove_path" title="Link to this definition"></a></dt>
<dd><p>Stores a request to remove a path from a list of paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the environment variable</p></li>
<li><p><strong>path</strong> – path to be removed</p></li>
<li><p><strong>separator</strong> – separator for the paths (default: os.pathsep)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.reversed">
<span class="sig-name descname"><span class="pre">reversed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#spack.util.environment.EnvironmentModifications" title="spack.util.environment.EnvironmentModifications"><span class="pre">EnvironmentModifications</span></a></span></span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.reversed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.reversed" title="Link to this definition"></a></dt>
<dd><p>Returns the EnvironmentModifications object that will reverse self</p>
<p>Only creates reversals for additions to the environment, as reversing
<code class="docutils literal notranslate"><span class="pre">unset</span></code> and <code class="docutils literal notranslate"><span class="pre">remove_path</span></code> modifications is impossible.</p>
<p>Reversable operations are set(), prepend_path(), append_path(),
set_path(), and append_flags().</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.set" title="Link to this definition"></a></dt>
<dd><p>Stores a request to set an environment variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the environment variable</p></li>
<li><p><strong>value</strong> – value of the environment variable</p></li>
<li><p><strong>force</strong> – if True, audit will not consider this modification a warning</p></li>
<li><p><strong>raw</strong> – if True, format of value string is skipped</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.set_path">
<span class="sig-name descname"><span class="pre">set_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.set_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.set_path" title="Link to this definition"></a></dt>
<dd><p>Stores a request to set an environment variable to a list of paths,
separated by a character defined in input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the environment variable</p></li>
<li><p><strong>elements</strong> – ordered list paths</p></li>
<li><p><strong>separator</strong> – separator for the paths (default: os.pathsep)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.shell_modifications">
<span class="sig-name descname"><span class="pre">shell_modifications</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shell</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sh'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">explicit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.shell_modifications"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.shell_modifications" title="Link to this definition"></a></dt>
<dd><p>Return shell code to apply the modifications and clears the list.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.EnvironmentModifications.unset">
<span class="sig-name descname"><span class="pre">unset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#EnvironmentModifications.unset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.EnvironmentModifications.unset" title="Link to this definition"></a></dt>
<dd><p>Stores a request to unset an environment variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – name of the environment variable</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.NameModifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">NameModifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.Trace" title="spack.util.environment.Trace"><span class="pre">Trace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#NameModifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.NameModifier" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for modifiers that act on the environment variable as a whole, and thus
store just its name</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.NameModifier.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#NameModifier.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.NameModifier.execute" title="Link to this definition"></a></dt>
<dd><p>Apply the modification to the mapping passed as input</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.NameModifier.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#spack.util.environment.NameModifier.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.NameModifier.separator">
<span class="sig-name descname"><span class="pre">separator</span></span><a class="headerlink" href="#spack.util.environment.NameModifier.separator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.NameModifier.trace">
<span class="sig-name descname"><span class="pre">trace</span></span><a class="headerlink" href="#spack.util.environment.NameModifier.trace" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.NameValueModifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">NameValueModifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.Trace" title="spack.util.environment.Trace"><span class="pre">Trace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#NameValueModifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.NameValueModifier" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for modifiers that modify the value of an environment variable.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.NameValueModifier.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#NameValueModifier.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.NameValueModifier.execute" title="Link to this definition"></a></dt>
<dd><p>Apply the modification to the mapping passed as input</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.NameValueModifier.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#spack.util.environment.NameValueModifier.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.NameValueModifier.separator">
<span class="sig-name descname"><span class="pre">separator</span></span><a class="headerlink" href="#spack.util.environment.NameValueModifier.separator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.NameValueModifier.trace">
<span class="sig-name descname"><span class="pre">trace</span></span><a class="headerlink" href="#spack.util.environment.NameValueModifier.trace" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.NameValueModifier.value">
<span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#spack.util.environment.NameValueModifier.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.PrependPath">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">PrependPath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.Trace" title="spack.util.environment.Trace"><span class="pre">Trace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#PrependPath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.PrependPath" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.environment.NameValueModifier" title="spack.util.environment.NameValueModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">NameValueModifier</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.PrependPath.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#PrependPath.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.PrependPath.execute" title="Link to this definition"></a></dt>
<dd><p>Apply the modification to the mapping passed as input</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.PrependPath.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#spack.util.environment.PrependPath.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.PrependPath.separator">
<span class="sig-name descname"><span class="pre">separator</span></span><a class="headerlink" href="#spack.util.environment.PrependPath.separator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.PrependPath.trace">
<span class="sig-name descname"><span class="pre">trace</span></span><a class="headerlink" href="#spack.util.environment.PrependPath.trace" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.PrependPath.value">
<span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#spack.util.environment.PrependPath.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.PruneDuplicatePaths">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">PruneDuplicatePaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.Trace" title="spack.util.environment.Trace"><span class="pre">Trace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#PruneDuplicatePaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.PruneDuplicatePaths" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.environment.NameModifier" title="spack.util.environment.NameModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">NameModifier</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.PruneDuplicatePaths.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#PruneDuplicatePaths.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.PruneDuplicatePaths.execute" title="Link to this definition"></a></dt>
<dd><p>Apply the modification to the mapping passed as input</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.PruneDuplicatePaths.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#spack.util.environment.PruneDuplicatePaths.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.PruneDuplicatePaths.separator">
<span class="sig-name descname"><span class="pre">separator</span></span><a class="headerlink" href="#spack.util.environment.PruneDuplicatePaths.separator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.PruneDuplicatePaths.trace">
<span class="sig-name descname"><span class="pre">trace</span></span><a class="headerlink" href="#spack.util.environment.PruneDuplicatePaths.trace" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.RemoveFlagsEnv">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">RemoveFlagsEnv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.Trace" title="spack.util.environment.Trace"><span class="pre">Trace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#RemoveFlagsEnv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.RemoveFlagsEnv" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.environment.NameValueModifier" title="spack.util.environment.NameValueModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">NameValueModifier</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.RemoveFlagsEnv.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#RemoveFlagsEnv.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.RemoveFlagsEnv.execute" title="Link to this definition"></a></dt>
<dd><p>Apply the modification to the mapping passed as input</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.RemoveFlagsEnv.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#spack.util.environment.RemoveFlagsEnv.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.RemoveFlagsEnv.separator">
<span class="sig-name descname"><span class="pre">separator</span></span><a class="headerlink" href="#spack.util.environment.RemoveFlagsEnv.separator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.RemoveFlagsEnv.trace">
<span class="sig-name descname"><span class="pre">trace</span></span><a class="headerlink" href="#spack.util.environment.RemoveFlagsEnv.trace" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.RemoveFlagsEnv.value">
<span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#spack.util.environment.RemoveFlagsEnv.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.RemovePath">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">RemovePath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.Trace" title="spack.util.environment.Trace"><span class="pre">Trace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#RemovePath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.RemovePath" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.environment.NameValueModifier" title="spack.util.environment.NameValueModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">NameValueModifier</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.RemovePath.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#RemovePath.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.RemovePath.execute" title="Link to this definition"></a></dt>
<dd><p>Apply the modification to the mapping passed as input</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.RemovePath.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#spack.util.environment.RemovePath.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.RemovePath.separator">
<span class="sig-name descname"><span class="pre">separator</span></span><a class="headerlink" href="#spack.util.environment.RemovePath.separator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.RemovePath.trace">
<span class="sig-name descname"><span class="pre">trace</span></span><a class="headerlink" href="#spack.util.environment.RemovePath.trace" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.RemovePath.value">
<span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#spack.util.environment.RemovePath.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="spack.util.environment.SYSTEM_DIR_CASE_ENTRY">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">SYSTEM_DIR_CASE_ENTRY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'&quot;/&quot;|&quot;//&quot;|&quot;/bin&quot;|&quot;/bin/&quot;|&quot;/bin64&quot;|&quot;/bin64/&quot;|&quot;/include&quot;|&quot;/include/&quot;|&quot;/lib&quot;|&quot;/lib/&quot;|&quot;/lib64&quot;|&quot;/lib64/&quot;|&quot;/usr&quot;|&quot;/usr/&quot;|&quot;/usr/bin&quot;|&quot;/usr/bin/&quot;|&quot;/usr/bin64&quot;|&quot;/usr/bin64/&quot;|&quot;/usr/include&quot;|&quot;/usr/include/&quot;|&quot;/usr/lib&quot;|&quot;/usr/lib/&quot;|&quot;/usr/lib64&quot;|&quot;/usr/lib64/&quot;|&quot;/usr/local&quot;|&quot;/usr/local/&quot;|&quot;/usr/local/bin&quot;|&quot;/usr/local/bin/&quot;|&quot;/usr/local/bin64&quot;|&quot;/usr/local/bin64/&quot;|&quot;/usr/local/include&quot;|&quot;/usr/local/include/&quot;|&quot;/usr/local/lib&quot;|&quot;/usr/local/lib/&quot;|&quot;/usr/local/lib64&quot;|&quot;/usr/local/lib64/&quot;'</span></em><a class="headerlink" href="#spack.util.environment.SYSTEM_DIR_CASE_ENTRY" title="Link to this definition"></a></dt>
<dd><p>used in the compiler wrapper’s <cite>/usr/lib|/usr/lib64|…)</cite> case entry</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.SetEnv">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">SetEnv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.Trace" title="spack.util.environment.Trace"><span class="pre">Trace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#SetEnv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.SetEnv" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.environment.NameValueModifier" title="spack.util.environment.NameValueModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">NameValueModifier</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.SetEnv.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#SetEnv.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.SetEnv.execute" title="Link to this definition"></a></dt>
<dd><p>Apply the modification to the mapping passed as input</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.SetEnv.force">
<span class="sig-name descname"><span class="pre">force</span></span><a class="headerlink" href="#spack.util.environment.SetEnv.force" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.SetEnv.raw">
<span class="sig-name descname"><span class="pre">raw</span></span><a class="headerlink" href="#spack.util.environment.SetEnv.raw" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.SetPath">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">SetPath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.Trace" title="spack.util.environment.Trace"><span class="pre">Trace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#SetPath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.SetPath" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.environment.NameValueModifier" title="spack.util.environment.NameValueModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">NameValueModifier</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.SetPath.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#SetPath.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.SetPath.execute" title="Link to this definition"></a></dt>
<dd><p>Apply the modification to the mapping passed as input</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.SetPath.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#spack.util.environment.SetPath.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.SetPath.separator">
<span class="sig-name descname"><span class="pre">separator</span></span><a class="headerlink" href="#spack.util.environment.SetPath.separator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.SetPath.trace">
<span class="sig-name descname"><span class="pre">trace</span></span><a class="headerlink" href="#spack.util.environment.SetPath.trace" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.SetPath.value">
<span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#spack.util.environment.SetPath.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.Trace">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">Trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">lineno</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#Trace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.Trace" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Trace information on a function call</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.Trace.context">
<span class="sig-name descname"><span class="pre">context</span></span><a class="headerlink" href="#spack.util.environment.Trace.context" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.Trace.filename">
<span class="sig-name descname"><span class="pre">filename</span></span><a class="headerlink" href="#spack.util.environment.Trace.filename" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.Trace.lineno">
<span class="sig-name descname"><span class="pre">lineno</span></span><a class="headerlink" href="#spack.util.environment.Trace.lineno" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.environment.UnsetEnv">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">UnsetEnv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.Trace" title="spack.util.environment.Trace"><span class="pre">Trace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#UnsetEnv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.UnsetEnv" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.environment.NameModifier" title="spack.util.environment.NameModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">NameModifier</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.environment.UnsetEnv.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#UnsetEnv.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.UnsetEnv.execute" title="Link to this definition"></a></dt>
<dd><p>Apply the modification to the mapping passed as input</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.UnsetEnv.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#spack.util.environment.UnsetEnv.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.UnsetEnv.separator">
<span class="sig-name descname"><span class="pre">separator</span></span><a class="headerlink" href="#spack.util.environment.UnsetEnv.separator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.environment.UnsetEnv.trace">
<span class="sig-name descname"><span class="pre">trace</span></span><a class="headerlink" href="#spack.util.environment.UnsetEnv.trace" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.deprioritize_system_paths">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">deprioritize_system_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/environment.html#deprioritize_system_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.deprioritize_system_paths" title="Link to this definition"></a></dt>
<dd><p>Reorders input paths by putting system paths at the end of the list, otherwise
preserving order.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.dump_environment">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">dump_environment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">environment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#dump_environment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.dump_environment" title="Link to this definition"></a></dt>
<dd><p>Dump an environment dictionary to a source-able file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – path of the file to write</p></li>
<li><p><strong>environment</strong> – environment to be writte. If None os.environ is used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.env_flag">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">env_flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/spack/util/environment.html#env_flag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.env_flag" title="Link to this definition"></a></dt>
<dd><p>Given the name of an environment variable, returns True if it is set to
‘true’ or to ‘1’, False otherwise.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.environment_after_sourcing_files">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">environment_after_sourcing_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/environment.html#environment_after_sourcing_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.environment_after_sourcing_files" title="Link to this definition"></a></dt>
<dd><p>Returns a dictionary with the environment that one would have
after sourcing the files passed as argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*files</strong> – each item can either be a string containing the path
of the file to be sourced or a sequence, where the first element
is the file to be sourced and the remaining are arguments to be
passed to the command line</p>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>env</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – the initial environment (default: current environment)</p></li>
<li><p><strong>shell</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – the shell to use (default: <code class="docutils literal notranslate"><span class="pre">/bin/bash</span></code> or <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code> (Windows))</p></li>
<li><p><strong>shell_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – options passed to the shell (default: <code class="docutils literal notranslate"><span class="pre">-c</span></code> or <code class="docutils literal notranslate"><span class="pre">/C</span></code> (Windows))</p></li>
<li><p><strong>source_command</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – the command to run (default: <code class="docutils literal notranslate"><span class="pre">source</span></code>)</p></li>
<li><p><strong>suppress_output</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – redirect used to suppress output of command
(default: <code class="docutils literal notranslate"><span class="pre">&amp;&gt;</span> <span class="pre">/dev/null</span></code>)</p></li>
<li><p><strong>concatenate_on_success</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – operator used to execute a command
only when the previous command succeeds (default: <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.filter_system_paths">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">filter_system_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/environment.html#filter_system_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.filter_system_paths" title="Link to this definition"></a></dt>
<dd><p>Returns a copy of the input where system paths are filtered out.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.get_path">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">get_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/environment.html#get_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.get_path" title="Link to this definition"></a></dt>
<dd><p>Given the name of an environment variable containing multiple
paths separated by ‘os.pathsep’, returns a list of the paths.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.inspect_path">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">inspect_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">inspections</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#spack.util.environment.EnvironmentModifications" title="spack.util.environment.EnvironmentModifications"><span class="pre">EnvironmentModifications</span></a></span></span><a class="reference internal" href="_modules/spack/util/environment.html#inspect_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.inspect_path" title="Link to this definition"></a></dt>
<dd><p>Inspects <code class="docutils literal notranslate"><span class="pre">root</span></code> to search for the subdirectories in <code class="docutils literal notranslate"><span class="pre">inspections</span></code>.
Adds every path found to a list of prepend-path commands and returns it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root</strong> – absolute path where to search for subdirectories</p></li>
<li><p><strong>inspections</strong> – maps relative paths to a list of environment
variables that will be modified if the path exists. The
modifications are not performed immediately, but stored in a
command object that is returned to client</p></li>
<li><p><strong>exclude</strong> – optional callable. If present it must accept an
absolute path and return True if it should be excluded from the
inspection</p></li>
</ul>
</dd>
</dl>
<p>Examples:</p>
<p>The following lines execute an inspection in <code class="docutils literal notranslate"><span class="pre">/usr</span></code> to search for
<code class="docutils literal notranslate"><span class="pre">/usr/include</span></code> and <code class="docutils literal notranslate"><span class="pre">/usr/lib64</span></code>. If found we want to prepend
<code class="docutils literal notranslate"><span class="pre">/usr/include</span></code> to <code class="docutils literal notranslate"><span class="pre">CPATH</span></code> and <code class="docutils literal notranslate"><span class="pre">/usr/lib64</span></code> to <code class="docutils literal notranslate"><span class="pre">MY_LIB64_PATH</span></code>.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up the dictionary containing the inspection</span>
<span class="n">inspections</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;include&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CPATH&#39;</span><span class="p">],</span>
    <span class="s1">&#39;lib64&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MY_LIB64_PATH&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1"># Get back the list of command needed to modify the environment</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">inspect_path</span><span class="p">(</span><span class="s1">&#39;/usr&#39;</span><span class="p">,</span> <span class="n">inspections</span><span class="p">)</span>

<span class="c1"># Eventually execute the commands</span>
<span class="n">env</span><span class="o">.</span><span class="n">apply_modifications</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.is_system_path">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">is_system_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/spack/util/environment.html#is_system_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.is_system_path" title="Link to this definition"></a></dt>
<dd><p>Returns True if the argument is a system path, False otherwise.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.path_put_first">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">path_put_first</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">directories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#path_put_first"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.path_put_first" title="Link to this definition"></a></dt>
<dd><p>Puts the provided directories first in the path, adding them
if they’re not already there.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.path_set">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">path_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">directories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#path_set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.path_set" title="Link to this definition"></a></dt>
<dd><p>Sets the variable passed as input to the <cite>os.pathsep</cite> joined list of directories.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.pickle_environment">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">pickle_environment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">environment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#pickle_environment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.pickle_environment" title="Link to this definition"></a></dt>
<dd><p>Pickle an environment dictionary to a file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.preserve_environment">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">preserve_environment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#preserve_environment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.preserve_environment" title="Link to this definition"></a></dt>
<dd><p>Ensures that the value of the environment variables passed as
arguments is the same before entering to the context manager and after
exiting it.</p>
<p>Variables that are unset before entering the context manager will be
explicitly unset on exit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>variables</strong> – list of environment variables to be preserved</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.prune_duplicate_paths">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">prune_duplicate_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/environment.html#prune_duplicate_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.prune_duplicate_paths" title="Link to this definition"></a></dt>
<dd><p>Returns the input list with duplicates removed, otherwise preserving order.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.sanitize">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">sanitize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">environment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/environment.html#sanitize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.sanitize" title="Link to this definition"></a></dt>
<dd><p>Returns a copy of the input dictionary where all the keys that
match an excluded pattern and don’t match an included pattern are
removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>environment</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – input dictionary</p></li>
<li><p><strong>exclude</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – literals or regex patterns to be excluded</p></li>
<li><p><strong>include</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – literals or regex patterns to be included</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.set_env">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">set_env</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#set_env"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.set_env" title="Link to this definition"></a></dt>
<dd><p>Temporarily sets and restores environment variables.</p>
<p>Variables can be set as keyword arguments to this function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.system_env_normalize">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">system_env_normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#system_env_normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.system_env_normalize" title="Link to this definition"></a></dt>
<dd><p>Decorator wrapping calls to system env modifications,
converting all env variable names to all upper case on Windows, no-op
on other platforms before calling env modification method.</p>
<p>Windows, due to a DOS holdover, treats all env variable names case
insensitively, however Spack’s env modification class does not,
meaning setting <cite>Path</cite> and <cite>PATH</cite> would be distinct env operations
for Spack, but would cause a collision when actually performing the
env modification operations on the env.
Normalize all env names to all caps to prevent this collision from the
Spack side.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.environment.validate">
<span class="sig-prename descclassname"><span class="pre">spack.util.environment.</span></span><span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.environment.EnvironmentModifications" title="spack.util.environment.EnvironmentModifications"><span class="pre">EnvironmentModifications</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">errstream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/environment.html#validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.environment.validate" title="Link to this definition"></a></dt>
<dd><p>Validates the environment modifications to check for the presence of
suspicious patterns. Prompts a warning for everything that was found.</p>
<p>Current checks:
- set or unset variables after other changes on the same variable</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> – list of environment modifications</p></li>
<li><p><strong>errstream</strong> – callable to log error messages</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.executable">
<span id="spack-util-executable-module"></span><h2>spack.util.executable module<a class="headerlink" href="#module-spack.util.executable" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.executable.Executable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.executable.</span></span><span class="sig-name descname"><span class="pre">Executable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/executable.html#Executable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.executable.Executable" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class representing a program that can be run on the command line.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.executable.Executable.add_default_arg">
<span class="sig-name descname"><span class="pre">add_default_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/executable.html#Executable.add_default_arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.executable.Executable.add_default_arg" title="Link to this definition"></a></dt>
<dd><p>Add default argument(s) to the command.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.executable.Executable.add_default_env">
<span class="sig-name descname"><span class="pre">add_default_env</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/executable.html#Executable.add_default_env"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.executable.Executable.add_default_env" title="Link to this definition"></a></dt>
<dd><p>Set an environment variable when the command is run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The environment variable to set</p></li>
<li><p><strong>value</strong> – The value to set it to</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.executable.Executable.add_default_envmod">
<span class="sig-name descname"><span class="pre">add_default_envmod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">envmod</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/executable.html#Executable.add_default_envmod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.executable.Executable.add_default_envmod" title="Link to this definition"></a></dt>
<dd><p>Set an EnvironmentModifications to use when the command is run.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="spack.util.executable.Executable.command">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">command</span></span><a class="headerlink" href="#spack.util.executable.Executable.command" title="Link to this definition"></a></dt>
<dd><p>The command-line string.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The executable and default arguments</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.executable.Executable.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/executable.html#Executable.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.executable.Executable.copy" title="Link to this definition"></a></dt>
<dd><p>Return a copy of this Executable.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="spack.util.executable.Executable.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#spack.util.executable.Executable.name" title="Link to this definition"></a></dt>
<dd><p>The executable name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The basename of the executable</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="spack.util.executable.Executable.path">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">path</span></span><a class="headerlink" href="#spack.util.executable.Executable.path" title="Link to this definition"></a></dt>
<dd><p>The path to the executable.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The path to the executable</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.executable.Executable.with_default_args">
<span class="sig-name descname"><span class="pre">with_default_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/executable.html#Executable.with_default_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.executable.Executable.with_default_args" title="Link to this definition"></a></dt>
<dd><p>Same as add_default_arg, but returns a copy of the executable.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.executable.ProcessError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.executable.</span></span><span class="sig-name descname"><span class="pre">ProcessError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/executable.html#ProcessError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.executable.ProcessError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="spack.html#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpackError</span></code></a></p>
<p>ProcessErrors are raised when Executables exit with an error code.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.executable.which">
<span class="sig-prename descclassname"><span class="pre">spack.util.executable.</span></span><span class="sig-name descname"><span class="pre">which</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/executable.html#which"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.executable.which" title="Link to this definition"></a></dt>
<dd><p>Finds an executable in the path like command-line which.</p>
<p>If given multiple executables, returns the first one that is found.
If no executables are found, returns None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – One or more executables to search for</p>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The path to search. Defaults to <code class="docutils literal notranslate"><span class="pre">PATH</span></code></p></li>
<li><p><strong>required</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If set to True, raise an error if executable not found</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The first executable that is found in the path</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#spack.util.executable.Executable" title="spack.util.executable.Executable">Executable</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.file_cache">
<span id="spack-util-file-cache-module"></span><h2>spack.util.file_cache module<a class="headerlink" href="#module-spack.util.file_cache" title="Link to this heading"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.file_cache.CacheError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.file_cache.</span></span><span class="sig-name descname"><span class="pre">CacheError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_cache.html#CacheError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_cache.CacheError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="spack.html#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpackError</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.file_cache.FileCache">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.file_cache.</span></span><span class="sig-name descname"><span class="pre">FileCache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">120</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_cache.html#FileCache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_cache.FileCache" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class manages cached data in the filesystem.</p>
<ul class="simple">
<li><p>Cache files are fetched and stored by unique keys.  Keys can be relative
paths, so that there can be some hierarchy in the cache.</p></li>
<li><p>The FileCache handles locking cache files for reading and writing, so
client code need not manage locks for cache entries.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.file_cache.FileCache.cache_path">
<span class="sig-name descname"><span class="pre">cache_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_cache.html#FileCache.cache_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_cache.FileCache.cache_path" title="Link to this definition"></a></dt>
<dd><p>Path to the file in the cache for a particular key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.file_cache.FileCache.destroy">
<span class="sig-name descname"><span class="pre">destroy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_cache.html#FileCache.destroy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_cache.FileCache.destroy" title="Link to this definition"></a></dt>
<dd><p>Remove all files under the cache root.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.file_cache.FileCache.init_entry">
<span class="sig-name descname"><span class="pre">init_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_cache.html#FileCache.init_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_cache.FileCache.init_entry" title="Link to this definition"></a></dt>
<dd><p>Ensure we can access a cache file. Create a lock for it if needed.</p>
<p>Return whether the cache file exists yet or not.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.file_cache.FileCache.mtime">
<span class="sig-name descname"><span class="pre">mtime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/spack/util/file_cache.html#FileCache.mtime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_cache.FileCache.mtime" title="Link to this definition"></a></dt>
<dd><p>Return modification time of cache file, or -inf if it does not exist.</p>
<p>Time is in units returned by os.stat in the mtime field, which is
platform-dependent.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.file_cache.FileCache.read_transaction">
<span class="sig-name descname"><span class="pre">read_transaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_cache.html#FileCache.read_transaction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_cache.FileCache.read_transaction" title="Link to this definition"></a></dt>
<dd><p>Get a read transaction on a file cache item.</p>
<p>Returns a ReadTransaction context manager and opens the cache file for
reading.  You can use it like this:</p>
<blockquote>
<div><dl class="simple">
<dt>with file_cache_object.read_transaction(key) as cache_file:</dt><dd><p>cache_file.read()</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.file_cache.FileCache.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_cache.html#FileCache.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_cache.FileCache.remove" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.file_cache.FileCache.write_transaction">
<span class="sig-name descname"><span class="pre">write_transaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_cache.html#FileCache.write_transaction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_cache.FileCache.write_transaction" title="Link to this definition"></a></dt>
<dd><p>Get a write transaction on a file cache item.</p>
<p>Returns a WriteTransaction context manager that opens a temporary file
for writing.  Once the context manager finishes, if nothing went wrong,
moves the file into place on top of the old file atomically.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.file_cache.ReadContextManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.file_cache.</span></span><span class="sig-name descname"><span class="pre">ReadContextManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_cache.html#ReadContextManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_cache.ReadContextManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.file_cache.WriteContextManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.file_cache.</span></span><span class="sig-name descname"><span class="pre">WriteContextManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_cache.html#WriteContextManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_cache.WriteContextManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

</section>
<section id="module-spack.util.file_permissions">
<span id="spack-util-file-permissions-module"></span><h2>spack.util.file_permissions module<a class="headerlink" href="#module-spack.util.file_permissions" title="Link to this heading"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.file_permissions.InvalidPermissionsError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.file_permissions.</span></span><span class="sig-name descname"><span class="pre">InvalidPermissionsError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_permissions.html#InvalidPermissionsError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_permissions.InvalidPermissionsError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="spack.html#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpackError</span></code></a></p>
<p>Error class for invalid permission setters</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.file_permissions.set_permissions">
<span class="sig-prename descclassname"><span class="pre">spack.util.file_permissions.</span></span><span class="sig-name descname"><span class="pre">set_permissions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_permissions.html#set_permissions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_permissions.set_permissions" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.file_permissions.set_permissions_by_spec">
<span class="sig-prename descclassname"><span class="pre">spack.util.file_permissions.</span></span><span class="sig-name descname"><span class="pre">set_permissions_by_spec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/file_permissions.html#set_permissions_by_spec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.file_permissions.set_permissions_by_spec" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-spack.util.filesystem">
<span id="spack-util-filesystem-module"></span><h2>spack.util.filesystem module<a class="headerlink" href="#module-spack.util.filesystem" title="Link to this heading"></a></h2>
<p>Utilities for interacting with files,
like those in llnl.util.filesystem, but which require logic from spack.util</p>
<dl class="py function">
<dt class="sig sig-object py" id="spack.util.filesystem.file_command">
<span class="sig-prename descclassname"><span class="pre">spack.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">file_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/filesystem.html#file_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.filesystem.file_command" title="Link to this definition"></a></dt>
<dd><p>Creates entry point to <cite>file</cite> system command with provided arguments</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.filesystem.fix_darwin_install_name">
<span class="sig-prename descclassname"><span class="pre">spack.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">fix_darwin_install_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/filesystem.html#fix_darwin_install_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.filesystem.fix_darwin_install_name" title="Link to this definition"></a></dt>
<dd><p>Fix install name of dynamic libraries on Darwin to have full path.</p>
<p>There are two parts of this task:</p>
<ol class="arabic simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">install_name('-id',</span> <span class="pre">...)</span></code> to change install name of a single lib</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">install_name('-change',</span> <span class="pre">...)</span></code> to change the cross linking between
libs. The function assumes that all libraries are in one folder and
currently won’t follow subfolders.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – directory in which .dylib files are located</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.filesystem.mime_type">
<span class="sig-prename descclassname"><span class="pre">spack.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">mime_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/filesystem.html#mime_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.filesystem.mime_type" title="Link to this definition"></a></dt>
<dd><p>Returns the mime type and subtype of a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> – file to be analyzed</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple containing the MIME type and subtype</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.format">
<span id="spack-util-format-module"></span><h2>spack.util.format module<a class="headerlink" href="#module-spack.util.format" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="spack.util.format.get_version_lines">
<span class="sig-prename descclassname"><span class="pre">spack.util.format.</span></span><span class="sig-name descname"><span class="pre">get_version_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version_hashes_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">url_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/spack/util/format.html#get_version_lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.format.get_version_lines" title="Link to this definition"></a></dt>
<dd><p>Renders out a set of versions like those found in a package’s
package.py file for a given set of versions and hashes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>version_hashes_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – A dictionary of the form: version -&gt; checksum.</p></li>
<li><p><strong>url_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – A dictionary of the form: version -&gt; URL.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Rendered version lines.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.gcs">
<span id="spack-util-gcs-module"></span><h2>spack.util.gcs module<a class="headerlink" href="#module-spack.util.gcs" title="Link to this heading"></a></h2>
<p>This file contains the definition of the GCS Blob storage Class used to
integrate GCS Blob storage with spack buildcache.</p>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBlob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.gcs.</span></span><span class="sig-name descname"><span class="pre">GCSBlob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBlob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBlob" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>GCS Blob object</p>
<p>Wraps some blob methods for spack functionality</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBlob.delete_blob">
<span class="sig-name descname"><span class="pre">delete_blob</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBlob.delete_blob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBlob.delete_blob" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBlob.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBlob.exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBlob.exists" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBlob.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBlob.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBlob.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBlob.get_blob_byte_stream">
<span class="sig-name descname"><span class="pre">get_blob_byte_stream</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBlob.get_blob_byte_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBlob.get_blob_byte_stream" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBlob.get_blob_headers">
<span class="sig-name descname"><span class="pre">get_blob_headers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBlob.get_blob_headers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBlob.get_blob_headers" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBlob.upload_to_blob">
<span class="sig-name descname"><span class="pre">upload_to_blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBlob.upload_to_blob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBlob.upload_to_blob" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBucket">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.gcs.</span></span><span class="sig-name descname"><span class="pre">GCSBucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBucket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBucket" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>GCS Bucket Object
Create a wrapper object for a GCS Bucket. Provides methods to wrap spack
related tasks, such as destroy.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBucket.blob">
<span class="sig-name descname"><span class="pre">blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blob_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBucket.blob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBucket.blob" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBucket.create">
<span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBucket.create"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBucket.create" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBucket.destroy">
<span class="sig-name descname"><span class="pre">destroy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBucket.destroy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBucket.destroy" title="Link to this definition"></a></dt>
<dd><p>Bucket destruction method</p>
<p>Deletes all blobs within the bucket, and then deletes the bucket itself.</p>
<p>Uses GCS Batch operations to bundle several delete operations together.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBucket.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBucket.exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBucket.exists" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBucket.get_all_blobs">
<span class="sig-name descname"><span class="pre">get_all_blobs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBucket.get_all_blobs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBucket.get_all_blobs" title="Link to this definition"></a></dt>
<dd><p>Get a list of all blobs
Returns a list of all blobs within this bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>relative</strong> – <dl class="simple">
<dt>If true (default), print blob paths</dt><dd><p>relative to ‘build_cache’ directory.</p>
</dd>
<dt>If false, print absolute blob paths (useful for</dt><dd><p>destruction of bucket)</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSBucket.get_blob">
<span class="sig-name descname"><span class="pre">get_blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blob_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSBucket.get_blob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSBucket.get_blob" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.gcs.GCSHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.gcs.</span></span><span class="sig-name descname"><span class="pre">GCSHandler</span></span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSHandler" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/urllib.request.html#urllib.request.BaseHandler" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHandler</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.gcs.GCSHandler.gs_open">
<span class="sig-name descname"><span class="pre">gs_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#GCSHandler.gs_open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.GCSHandler.gs_open" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gcs.gcs_client">
<span class="sig-prename descclassname"><span class="pre">spack.util.gcs.</span></span><span class="sig-name descname"><span class="pre">gcs_client</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#gcs_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.gcs_client" title="Link to this definition"></a></dt>
<dd><p>Create a GCS client
Creates an authenticated GCS client to access GCS buckets and blobs</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gcs.gcs_open">
<span class="sig-prename descclassname"><span class="pre">spack.util.gcs.</span></span><span class="sig-name descname"><span class="pre">gcs_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gcs.html#gcs_open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gcs.gcs_open" title="Link to this definition"></a></dt>
<dd><p>Open a reader stream to a blob object on GCS</p>
</dd></dl>

</section>
<section id="module-spack.util.git">
<span id="spack-util-git-module"></span><h2>spack.util.git module<a class="headerlink" href="#module-spack.util.git" title="Link to this heading"></a></h2>
<p>Single util module where Spack should get a git executable.</p>
<dl class="py function">
<dt class="sig sig-object py" id="spack.util.git.git">
<span class="sig-prename descclassname"><span class="pre">spack.util.git.</span></span><span class="sig-name descname"><span class="pre">git</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">required</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/git.html#git"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.git.git" title="Link to this definition"></a></dt>
<dd><p>Get a git executable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>required</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, fail if <code class="docutils literal notranslate"><span class="pre">git</span></code> is not found. By default return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.gpg">
<span id="spack-util-gpg-module"></span><h2>spack.util.gpg module<a class="headerlink" href="#module-spack.util.gpg" title="Link to this heading"></a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="spack.util.gpg.GNUPGHOME">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">GNUPGHOME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#spack.util.gpg.GNUPGHOME" title="Link to this definition"></a></dt>
<dd><p>GNUPGHOME environment variable in the context of this Python module</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="spack.util.gpg.GPG">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">GPG</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#spack.util.gpg.GPG" title="Link to this definition"></a></dt>
<dd><p>Executable instance for “gpg”, initialized lazily</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="spack.util.gpg.GPGCONF">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">GPGCONF</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#spack.util.gpg.GPGCONF" title="Link to this definition"></a></dt>
<dd><p>Executable instance for “gpgconf”, initialized lazily</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="spack.util.gpg.SOCKET_DIR">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">SOCKET_DIR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#spack.util.gpg.SOCKET_DIR" title="Link to this definition"></a></dt>
<dd><p>Socket directory required if a non default home directory is used</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.gpg.SpackGPGError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">SpackGPGError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#SpackGPGError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.SpackGPGError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="spack.html#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpackError</span></code></a></p>
<p>Class raised when GPG errors are detected.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.clear">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.clear" title="Link to this definition"></a></dt>
<dd><p>Reset the global state to uninitialized.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.create">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#create"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.create" title="Link to this definition"></a></dt>
<dd><p>Create a new key pair.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.export_keys">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">export_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secret</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#export_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.export_keys" title="Link to this definition"></a></dt>
<dd><p>Export public keys to a location passed as argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – where to export the keys</p></li>
<li><p><strong>keys</strong> (<a class="reference internal" href="#spack.util.gpg.list" title="spack.util.gpg.list"><em>list</em></a>) – keys to be exported</p></li>
<li><p><strong>secret</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – whether to export secret keys or not</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.gnupghome_override">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">gnupghome_override</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#gnupghome_override"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.gnupghome_override" title="Link to this definition"></a></dt>
<dd><p>Set the GNUPGHOME to a new location for this context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – new value for GNUPGHOME</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.init">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gnupghome</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.init" title="Link to this definition"></a></dt>
<dd><p>Initialize the global objects in the module, if not set.</p>
<p>When calling any gpg executable, the GNUPGHOME environment
variable is set to:</p>
<ol class="arabic simple">
<li><p>The value of the <cite>gnupghome</cite> argument, if not None</p></li>
<li><p>The value of the “SPACK_GNUPGHOME” environment variable, if set</p></li>
<li><p>The default gpg path for Spack otherwise</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gnupghome</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – value to be used for GNUPGHOME when calling
GnuPG executables</p></li>
<li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – if True forces the re-initialization even if the
global objects are set already</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.list">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trusted</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signing</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.list" title="Link to this definition"></a></dt>
<dd><p>List known keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trusted</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – if True list public keys</p></li>
<li><p><strong>signing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – if True list private keys</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.public_keys">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">public_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#public_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.public_keys" title="Link to this definition"></a></dt>
<dd><p>Return a list of fingerprints</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.public_keys_to_fingerprint">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">public_keys_to_fingerprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#public_keys_to_fingerprint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.public_keys_to_fingerprint" title="Link to this definition"></a></dt>
<dd><p>Return the keys that can be used to verify binaries.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.sign">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">sign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clearsign</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#sign"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.sign" title="Link to this definition"></a></dt>
<dd><p>Sign a file with a key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – key to be used to sign</p></li>
<li><p><strong>file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – file to be signed</p></li>
<li><p><strong>output</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – output file (either the clearsigned file or
the detached signature)</p></li>
<li><p><strong>clearsign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – if True wraps the document in an ASCII-armored
signature, if False creates a detached signature</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.signing_keys">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">signing_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/gpg.html#signing_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.signing_keys" title="Link to this definition"></a></dt>
<dd><p>Return the keys that can be used to sign binaries.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.trust">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">trust</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#trust"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.trust" title="Link to this definition"></a></dt>
<dd><p>Import a public key from a file and trust it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>keyfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – file with the public key</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.untrust">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">untrust</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signing</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#untrust"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.untrust" title="Link to this definition"></a></dt>
<dd><p>Delete known keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – if True deletes the secret keys</p></li>
<li><p><strong>*keys</strong> – keys to be deleted</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.gpg.verify">
<span class="sig-prename descclassname"><span class="pre">spack.util.gpg.</span></span><span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suppress_warnings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/gpg.html#verify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.gpg.verify" title="Link to this definition"></a></dt>
<dd><p>Verify the signature on a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signature</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – signature of the file (or clearsigned file)</p></li>
<li><p><strong>file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – file to be verified.  If None, then signature is
assumed to be a clearsigned file.</p></li>
<li><p><strong>suppress_warnings</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – whether or not to suppress warnings
from GnuPG</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.hash">
<span id="spack-util-hash-module"></span><h2>spack.util.hash module<a class="headerlink" href="#module-spack.util.hash" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="spack.util.hash.b32_hash">
<span class="sig-prename descclassname"><span class="pre">spack.util.hash.</span></span><span class="sig-name descname"><span class="pre">b32_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/hash.html#b32_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.hash.b32_hash" title="Link to this definition"></a></dt>
<dd><p>Return the b32 encoded sha1 hash of the input string as a string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.hash.base32_prefix_bits">
<span class="sig-prename descclassname"><span class="pre">spack.util.hash.</span></span><span class="sig-name descname"><span class="pre">base32_prefix_bits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hash_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/hash.html#base32_prefix_bits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.hash.base32_prefix_bits" title="Link to this definition"></a></dt>
<dd><p>Return the first &lt;bits&gt; bits of a base32 string as an integer.</p>
</dd></dl>

</section>
<section id="module-spack.util.ld_so_conf">
<span id="spack-util-ld-so-conf-module"></span><h2>spack.util.ld_so_conf module<a class="headerlink" href="#module-spack.util.ld_so_conf" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="spack.util.ld_so_conf.get_conf_file_from_dynamic_linker">
<span class="sig-prename descclassname"><span class="pre">spack.util.ld_so_conf.</span></span><span class="sig-name descname"><span class="pre">get_conf_file_from_dynamic_linker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dynamic_linker_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/ld_so_conf.html#get_conf_file_from_dynamic_linker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.ld_so_conf.get_conf_file_from_dynamic_linker" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.ld_so_conf.host_dynamic_linker_search_paths">
<span class="sig-prename descclassname"><span class="pre">spack.util.ld_so_conf.</span></span><span class="sig-name descname"><span class="pre">host_dynamic_linker_search_paths</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/ld_so_conf.html#host_dynamic_linker_search_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.ld_so_conf.host_dynamic_linker_search_paths" title="Link to this definition"></a></dt>
<dd><p>Retrieve the current host runtime search paths for shared libraries;
for GNU and musl Linux we try to retrieve the dynamic linker from the
current Python interpreter and then find the corresponding config file
(e.g. ld.so.conf or ld-musl-&lt;arch&gt;.path). Similar can be done for
BSD and others, but this is not implemented yet. The default paths
are always returned. We don’t check if the listed directories exist.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.ld_so_conf.parse_ld_so_conf">
<span class="sig-prename descclassname"><span class="pre">spack.util.ld_so_conf.</span></span><span class="sig-name descname"><span class="pre">parse_ld_so_conf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conf_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/etc/ld.so.conf'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/ld_so_conf.html#parse_ld_so_conf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.ld_so_conf.parse_ld_so_conf" title="Link to this definition"></a></dt>
<dd><p>Parse glibc style ld.so.conf file, which specifies default search paths for the
dynamic linker. This can in principle also be used for musl libc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>conf_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><em>bytes</em></a>) – Path to config file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of absolute search paths</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.libc">
<span id="spack-util-libc-module"></span><h2>spack.util.libc module<a class="headerlink" href="#module-spack.util.libc" title="Link to this heading"></a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="spack.util.libc.GLIBC_PATTERN">
<span class="sig-prename descclassname"><span class="pre">spack.util.libc.</span></span><span class="sig-name descname"><span class="pre">GLIBC_PATTERN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\\b(?:Free</span> <span class="pre">Software</span> <span class="pre">Foundation|Roland</span> <span class="pre">McGrath|Ulrich</span> <span class="pre">Depper)\\b'</span></em><a class="headerlink" href="#spack.util.libc.GLIBC_PATTERN" title="Link to this definition"></a></dt>
<dd><p>Pattern to distinguish glibc from other libc implementations</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.libc.default_search_paths_from_dynamic_linker">
<span class="sig-prename descclassname"><span class="pre">spack.util.libc.</span></span><span class="sig-name descname"><span class="pre">default_search_paths_from_dynamic_linker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dynamic_linker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/spack/util/libc.html#default_search_paths_from_dynamic_linker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.libc.default_search_paths_from_dynamic_linker" title="Link to this definition"></a></dt>
<dd><p>If the dynamic linker is glibc at a certain version, we can query the hard-coded library
search paths</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.libc.libc_from_current_python_process">
<span class="sig-prename descclassname"><span class="pre">spack.util.libc.</span></span><span class="sig-name descname"><span class="pre">libc_from_current_python_process</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="spack.html#spack.spec.Spec" title="spack.spec.Spec"><span class="pre">Spec</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/libc.html#libc_from_current_python_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.libc.libc_from_current_python_process" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.libc.libc_from_dynamic_linker">
<span class="sig-prename descclassname"><span class="pre">spack.util.libc.</span></span><span class="sig-name descname"><span class="pre">libc_from_dynamic_linker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dynamic_linker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="spack.html#spack.spec.Spec" title="spack.spec.Spec"><span class="pre">Spec</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/libc.html#libc_from_dynamic_linker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.libc.libc_from_dynamic_linker" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.libc.libc_include_dir_from_startfile_prefix">
<span class="sig-prename descclassname"><span class="pre">spack.util.libc.</span></span><span class="sig-name descname"><span class="pre">libc_include_dir_from_startfile_prefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">libc_prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">startfile_prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/libc.html#libc_include_dir_from_startfile_prefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.libc.libc_include_dir_from_startfile_prefix" title="Link to this definition"></a></dt>
<dd><p>Heuristic to determine the glibc include directory from the startfile prefix. Replaces
$libc_prefix/lib*/&lt;multiarch&gt; with $libc_prefix/include/&lt;multiarch&gt;. This function does not
check if the include directory actually exists or is correct.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.libc.parse_dynamic_linker">
<span class="sig-prename descclassname"><span class="pre">spack.util.libc.</span></span><span class="sig-name descname"><span class="pre">parse_dynamic_linker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/libc.html#parse_dynamic_linker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.libc.parse_dynamic_linker" title="Link to this definition"></a></dt>
<dd><p>Parse -dynamic-linker /path/to/ld.so from compiler output</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.libc.startfile_prefix">
<span class="sig-prename descclassname"><span class="pre">spack.util.libc.</span></span><span class="sig-name descname"><span class="pre">startfile_prefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">compatible_with</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'/opt/hostedtoolcache/Python/3.13.7/x64/bin/python'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/libc.html#startfile_prefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.libc.startfile_prefix" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-spack.util.lock">
<span id="spack-util-lock-module"></span><h2>spack.util.lock module<a class="headerlink" href="#module-spack.util.lock" title="Link to this heading"></a></h2>
<p>Wrapper for <code class="docutils literal notranslate"><span class="pre">llnl.util.lock</span></code> allows locking to be enabled/disabled.</p>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.lock.Lock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.lock.</span></span><span class="sig-name descname"><span class="pre">Lock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/lock.html#Lock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.lock.Lock" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="llnl.util.html#llnl.util.lock.Lock" title="llnl.util.lock.Lock"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lock</span></code></a></p>
<p>Lock that can be disabled.</p>
<p>This overrides the <code class="docutils literal notranslate"><span class="pre">_lock()</span></code> and <code class="docutils literal notranslate"><span class="pre">_unlock()</span></code> methods from
<code class="docutils literal notranslate"><span class="pre">llnl.util.lock</span></code> so that all the lock API calls will succeed, but
the actual locking mechanism can be disabled via <code class="docutils literal notranslate"><span class="pre">_enable_locks</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.lock.Lock.cleanup">
<span class="sig-name descname"><span class="pre">cleanup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/lock.html#Lock.cleanup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.lock.Lock.cleanup" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.lock.check_lock_safety">
<span class="sig-prename descclassname"><span class="pre">spack.util.lock.</span></span><span class="sig-name descname"><span class="pre">check_lock_safety</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/lock.html#check_lock_safety"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.lock.check_lock_safety" title="Link to this definition"></a></dt>
<dd><p>Do some extra checks to ensure disabling locks is safe.</p>
<p>This will raise an error if <code class="docutils literal notranslate"><span class="pre">path</span></code> can is group- or world-writable
AND the current user can write to the directory (i.e., if this user
AND others could write to the path).</p>
<p>This is intended to run on the Spack prefix, but can be run on any
path for testing.</p>
</dd></dl>

</section>
<section id="module-spack.util.log_parse">
<span id="spack-util-log-parse-module"></span><h2>spack.util.log_parse module<a class="headerlink" href="#module-spack.util.log_parse" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="spack.util.log_parse.make_log_context">
<span class="sig-prename descclassname"><span class="pre">spack.util.log_parse.</span></span><span class="sig-name descname"><span class="pre">make_log_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/log_parse.html#make_log_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.log_parse.make_log_context" title="Link to this definition"></a></dt>
<dd><p>Get error context from a log file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>log_events</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – list of events created by
<code class="docutils literal notranslate"><span class="pre">ctest_log_parser.parse()</span></code></p></li>
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em> or </em><em>None</em>) – wrap width; <code class="docutils literal notranslate"><span class="pre">0</span></code> for no limit; <code class="docutils literal notranslate"><span class="pre">None</span></code> to
auto-size for terminal</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>context from the build log with errors highlighted</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
<p>Parses the log file for lines containing errors, and prints them out
with line numbers and context.  Errors are highlighted with ‘&gt;&gt;’ and
with red highlighting (if color is enabled).</p>
<p>Events are sorted by line number before they are displayed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.log_parse.parse_log_events">
<span class="sig-prename descclassname"><span class="pre">spack.util.log_parse.</span></span><span class="sig-name descname"><span class="pre">parse_log_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/log_parse.html#parse_log_events"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.log_parse.parse_log_events" title="Link to this definition"></a></dt>
<dd><p>Extract interesting events from a log file as a list of LogEvent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.IO" title="(in Python v3.13)"><em>IO</em></a>) – build log name or file object</p></li>
<li><p><strong>context</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – lines of context to extract around each log event</p></li>
<li><p><strong>jobs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – number of jobs to parse with; default ncpus</p></li>
<li><p><strong>profile</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – print out profile information for parsing</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>two lists containig <code class="docutils literal notranslate"><span class="pre">BuildError</span></code> and</dt><dd><p><code class="docutils literal notranslate"><span class="pre">BuildWarning</span></code> objects.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>)</p>
</dd>
</dl>
<p>This is a wrapper around <code class="docutils literal notranslate"><span class="pre">ctest_log_parser.CTestLogParser</span></code> that
lazily constructs a single <code class="docutils literal notranslate"><span class="pre">CTestLogParser</span></code> object.  This ensures
that all the regex compilation is only done once.</p>
</dd></dl>

</section>
<section id="module-spack.util.module_cmd">
<span id="spack-util-module-cmd-module"></span><h2>spack.util.module_cmd module<a class="headerlink" href="#module-spack.util.module_cmd" title="Link to this heading"></a></h2>
<p>This module contains routines related to the module command for accessing and
parsing environment modules.</p>
<dl class="py function">
<dt class="sig sig-object py" id="spack.util.module_cmd.get_path_args_from_module_line">
<span class="sig-prename descclassname"><span class="pre">spack.util.module_cmd.</span></span><span class="sig-name descname"><span class="pre">get_path_args_from_module_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/module_cmd.html#get_path_args_from_module_line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.module_cmd.get_path_args_from_module_line" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.module_cmd.get_path_from_module_contents">
<span class="sig-prename descclassname"><span class="pre">spack.util.module_cmd.</span></span><span class="sig-name descname"><span class="pre">get_path_from_module_contents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/module_cmd.html#get_path_from_module_contents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.module_cmd.get_path_from_module_contents" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.module_cmd.load_module">
<span class="sig-prename descclassname"><span class="pre">spack.util.module_cmd.</span></span><span class="sig-name descname"><span class="pre">load_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mod</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/module_cmd.html#load_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.module_cmd.load_module" title="Link to this definition"></a></dt>
<dd><p>Takes a module name and removes modules until it is possible to
load that module. It then loads the provided module. Depends on the
modulecmd implementation of modules used in cray and lmod.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.module_cmd.module">
<span class="sig-prename descclassname"><span class="pre">spack.util.module_cmd.</span></span><span class="sig-name descname"><span class="pre">module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">environb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/module_cmd.html#module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.module_cmd.module" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.module_cmd.path_from_modules">
<span class="sig-prename descclassname"><span class="pre">spack.util.module_cmd.</span></span><span class="sig-name descname"><span class="pre">path_from_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modules</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/module_cmd.html#path_from_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.module_cmd.path_from_modules" title="Link to this definition"></a></dt>
<dd><p>Inspect a list of Tcl modules for entries that indicate the absolute
path at which the library supported by said module can be found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>modules</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – module files to be loaded to get an external package</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Guess of the prefix path where the package</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.naming">
<span id="spack-util-naming-module"></span><h2>spack.util.naming module<a class="headerlink" href="#module-spack.util.naming" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.naming.NamespaceTrie">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.naming.</span></span><span class="sig-name descname"><span class="pre">NamespaceTrie</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#NamespaceTrie"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.NamespaceTrie" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.naming.NamespaceTrie.Element">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Element</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#NamespaceTrie.Element"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.NamespaceTrie.Element" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.naming.NamespaceTrie.has_value">
<span class="sig-name descname"><span class="pre">has_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">namespace</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#NamespaceTrie.has_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.NamespaceTrie.has_value" title="Link to this definition"></a></dt>
<dd><p>True if there is a value set for the given namespace.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.naming.NamespaceTrie.is_leaf">
<span class="sig-name descname"><span class="pre">is_leaf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">namespace</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#NamespaceTrie.is_leaf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.NamespaceTrie.is_leaf" title="Link to this definition"></a></dt>
<dd><p>True if this namespace has no children in the trie.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.naming.NamespaceTrie.is_prefix">
<span class="sig-name descname"><span class="pre">is_prefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">namespace</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#NamespaceTrie.is_prefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.NamespaceTrie.is_prefix" title="Link to this definition"></a></dt>
<dd><p>True if the namespace has a value, or if it’s the prefix of one that
does.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.naming.mod_to_class">
<span class="sig-prename descclassname"><span class="pre">spack.util.naming.</span></span><span class="sig-name descname"><span class="pre">mod_to_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mod_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#mod_to_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.mod_to_class" title="Link to this definition"></a></dt>
<dd><p>Convert a name from module style to class name style.  Spack mostly
follows <a class="reference external" href="http://legacy.python.org/dev/peps/pep-0008/">PEP-8</a>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Module and package names use lowercase_with_underscores.</p></li>
<li><p>Class names use the CapWords convention.</p></li>
</ul>
</div></blockquote>
<p>Regular source code follows these convetions.  Spack is a bit
more liberal with its Package names and Compiler names:</p>
<blockquote>
<div><ul class="simple">
<li><p>They can contain ‘-’ as well as ‘_’, but cannot start with ‘-‘.</p></li>
<li><p>They can start with numbers, e.g. “3proxy”.</p></li>
</ul>
</div></blockquote>
<p>This function converts from the module convention to the class
convention by removing _ and - and converting surrounding
lowercase text to CapWords.  If mod_name starts with a number,
the class name returned will be prepended with ‘_’ to make a
valid Python identifier.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.naming.possible_spack_module_names">
<span class="sig-prename descclassname"><span class="pre">spack.util.naming.</span></span><span class="sig-name descname"><span class="pre">possible_spack_module_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">python_mod_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#possible_spack_module_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.possible_spack_module_names" title="Link to this definition"></a></dt>
<dd><p>Given a Python module name, return a list of all possible spack module
names that could correspond to it.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.naming.simplify_name">
<span class="sig-prename descclassname"><span class="pre">spack.util.naming.</span></span><span class="sig-name descname"><span class="pre">simplify_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#simplify_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.simplify_name" title="Link to this definition"></a></dt>
<dd><p>Simplify package name to only lowercase, digits, and dashes.</p>
<p>Simplifies a name which may include uppercase letters, periods,
underscores, and pluses. In general, we want our package names to
only contain lowercase letters, digits, and dashes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The original name of the package</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The new name of the package</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.naming.spack_module_to_python_module">
<span class="sig-prename descclassname"><span class="pre">spack.util.naming.</span></span><span class="sig-name descname"><span class="pre">spack_module_to_python_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mod_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#spack_module_to_python_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.spack_module_to_python_module" title="Link to this definition"></a></dt>
<dd><p>Given a Spack module name, returns the name by which it can be
imported in Python.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.naming.valid_fully_qualified_module_name">
<span class="sig-prename descclassname"><span class="pre">spack.util.naming.</span></span><span class="sig-name descname"><span class="pre">valid_fully_qualified_module_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mod_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#valid_fully_qualified_module_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.valid_fully_qualified_module_name" title="Link to this definition"></a></dt>
<dd><p>Return whether mod_name is a valid namespaced module name.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.naming.valid_module_name">
<span class="sig-prename descclassname"><span class="pre">spack.util.naming.</span></span><span class="sig-name descname"><span class="pre">valid_module_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mod_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#valid_module_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.valid_module_name" title="Link to this definition"></a></dt>
<dd><p>Return whether mod_name is valid for use in Spack.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.naming.validate_fully_qualified_module_name">
<span class="sig-prename descclassname"><span class="pre">spack.util.naming.</span></span><span class="sig-name descname"><span class="pre">validate_fully_qualified_module_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mod_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#validate_fully_qualified_module_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.validate_fully_qualified_module_name" title="Link to this definition"></a></dt>
<dd><p>Raise an exception if mod_name is not a valid namespaced module name.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.naming.validate_module_name">
<span class="sig-prename descclassname"><span class="pre">spack.util.naming.</span></span><span class="sig-name descname"><span class="pre">validate_module_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mod_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/naming.html#validate_module_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.naming.validate_module_name" title="Link to this definition"></a></dt>
<dd><p>Raise an exception if mod_name is not valid.</p>
</dd></dl>

</section>
<section id="module-spack.util.package_hash">
<span id="spack-util-package-hash-module"></span><h2>spack.util.package_hash module<a class="headerlink" href="#module-spack.util.package_hash" title="Link to this heading"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.package_hash.PackageHashError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.package_hash.</span></span><span class="sig-name descname"><span class="pre">PackageHashError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#PackageHashError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.PackageHashError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="spack.html#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpackError</span></code></a></p>
<p>Raised for all errors encountered during package hashing.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDirectives">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.package_hash.</span></span><span class="sig-name descname"><span class="pre">RemoveDirectives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDirectives"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDirectives" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/ast.html#ast.NodeTransformer" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeTransformer</span></code></a></p>
<p>Remove Spack directives from a package AST.</p>
<p>This removes Spack directives (e.g., <code class="docutils literal notranslate"><span class="pre">depends_on</span></code>, <code class="docutils literal notranslate"><span class="pre">conflicts</span></code>, etc.) and
metadata attributes (e.g., <code class="docutils literal notranslate"><span class="pre">tags</span></code>, <code class="docutils literal notranslate"><span class="pre">homepage</span></code>, <code class="docutils literal notranslate"><span class="pre">url</span></code>) in a top-level class
definition within a <code class="docutils literal notranslate"><span class="pre">package.py</span></code>, but it does not modify nested classes or
functions.</p>
<p>If removing directives causes a <code class="docutils literal notranslate"><span class="pre">for</span></code>, <code class="docutils literal notranslate"><span class="pre">with</span></code>, or <code class="docutils literal notranslate"><span class="pre">while</span></code> statement to have an
empty body, we remove the entire statement. Similarly, If removing directives causes
an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement to have an empty body or <code class="docutils literal notranslate"><span class="pre">else</span></code> block, we’ll remove the block
(or replace the body with <code class="docutils literal notranslate"><span class="pre">pass</span></code> if there is an <code class="docutils literal notranslate"><span class="pre">else</span></code> block but no body).</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDirectives.visit_Assign">
<span class="sig-name descname"><span class="pre">visit_Assign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDirectives.visit_Assign"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDirectives.visit_Assign" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDirectives.visit_ClassDef">
<span class="sig-name descname"><span class="pre">visit_ClassDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDirectives.visit_ClassDef"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDirectives.visit_ClassDef" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDirectives.visit_Expr">
<span class="sig-name descname"><span class="pre">visit_Expr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDirectives.visit_Expr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDirectives.visit_Expr" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDirectives.visit_For">
<span class="sig-name descname"><span class="pre">visit_For</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDirectives.visit_For"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDirectives.visit_For" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDirectives.visit_FunctionDef">
<span class="sig-name descname"><span class="pre">visit_FunctionDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDirectives.visit_FunctionDef"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDirectives.visit_FunctionDef" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDirectives.visit_If">
<span class="sig-name descname"><span class="pre">visit_If</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDirectives.visit_If"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDirectives.visit_If" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDirectives.visit_While">
<span class="sig-name descname"><span class="pre">visit_While</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDirectives.visit_While"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDirectives.visit_While" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDirectives.visit_With">
<span class="sig-name descname"><span class="pre">visit_With</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDirectives.visit_With"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDirectives.visit_With" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDocstrings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.package_hash.</span></span><span class="sig-name descname"><span class="pre">RemoveDocstrings</span></span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDocstrings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDocstrings" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/ast.html#ast.NodeTransformer" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeTransformer</span></code></a></p>
<p>Transformer that removes docstrings from a Python AST.</p>
<p>This removes <em>all</em> strings that aren’t on the RHS of an assignment statement from
the body of functions, classes, and modules – even if they’re not directly after
the declaration.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDocstrings.remove_docstring">
<span class="sig-name descname"><span class="pre">remove_docstring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDocstrings.remove_docstring"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDocstrings.remove_docstring" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDocstrings.visit_ClassDef">
<span class="sig-name descname"><span class="pre">visit_ClassDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDocstrings.visit_ClassDef"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDocstrings.visit_ClassDef" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDocstrings.visit_FunctionDef">
<span class="sig-name descname"><span class="pre">visit_FunctionDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDocstrings.visit_FunctionDef"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDocstrings.visit_FunctionDef" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.RemoveDocstrings.visit_Module">
<span class="sig-name descname"><span class="pre">visit_Module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#RemoveDocstrings.visit_Module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.RemoveDocstrings.visit_Module" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.package_hash.ResolveMultiMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.package_hash.</span></span><span class="sig-name descname"><span class="pre">ResolveMultiMethods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">methods</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#ResolveMultiMethods"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.ResolveMultiMethods" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/ast.html#ast.NodeTransformer" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeTransformer</span></code></a></p>
<p>Remove multi-methods when we know statically that they won’t be used.</p>
<p>Say we have multi-methods like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SomePackage</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;implementation 1&quot;</span><span class="p">)</span>

    <span class="nd">@when</span><span class="p">(</span><span class="s2">&quot;@1.0&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;implementation 2&quot;</span><span class="p">)</span>

    <span class="nd">@when</span><span class="p">(</span><span class="s2">&quot;@2.0&quot;</span><span class="p">)</span>
    <span class="nd">@when</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;darwin&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;implementation 3&quot;</span><span class="p">)</span>

    <span class="nd">@when</span><span class="p">(</span><span class="s2">&quot;@3.0&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;implementation 4&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The multimethod that will be chosen at runtime depends on the package spec and on
whether we’re on the darwin platform <em>at build time</em> (the darwin condition for
implementation 3 is dynamic). We know the package spec statically; we don’t know
statically what the runtime environment will be. We need to include things that can
possibly affect package behavior in the package hash, and we want to exclude things
when we know that they will not affect package behavior.</p>
<p>If we’re at version 4.0, we know that implementation 1 will win, because some &#64;when
for 2, 3, and 4 will be <cite>False</cite>. We should only include implementation 1.</p>
<p>If we’re at version 1.0, we know that implementation 2 will win, because it
overrides implementation 1.  We should only include implementation 2.</p>
<p>If we’re at version 3.0, we know that implementation 4 will win, because it
overrides implementation 1 (the default), and some &#64;when on all others will be
False.</p>
<p>If we’re at version 2.0, it’s a bit more complicated. We know we can remove
implementations 2 and 4, because their &#64;when’s will never be satisfied. But, the
choice between implementations 1 and 3 will happen at runtime (this is a bad example
because the spec itself has platform information, and we should prefer to use that,
but we allow arbitrary boolean expressions in &#64;when’s, so this example suffices).
For this case, we end up needing to include <em>both</em> implementation 1 and 3 in the
package hash, because either could be chosen.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.ResolveMultiMethods.resolve">
<span class="sig-name descname"><span class="pre">resolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">impl_conditions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#ResolveMultiMethods.resolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.ResolveMultiMethods.resolve" title="Link to this definition"></a></dt>
<dd><p>Given list of nodes and conditions, figure out which node will be chosen.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.ResolveMultiMethods.visit_FunctionDef">
<span class="sig-name descname"><span class="pre">visit_FunctionDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#ResolveMultiMethods.visit_FunctionDef"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.ResolveMultiMethods.visit_FunctionDef" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.package_hash.TagMultiMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.package_hash.</span></span><span class="sig-name descname"><span class="pre">TagMultiMethods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#TagMultiMethods"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.TagMultiMethods" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/ast.html#ast.NodeVisitor" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeVisitor</span></code></a></p>
<p>Tag &#64;when-decorated methods in a package AST.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.package_hash.TagMultiMethods.visit_FunctionDef">
<span class="sig-name descname"><span class="pre">visit_FunctionDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#TagMultiMethods.visit_FunctionDef"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.TagMultiMethods.visit_FunctionDef" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.package_hash.canonical_source">
<span class="sig-prename descclassname"><span class="pre">spack.util.package_hash.</span></span><span class="sig-name descname"><span class="pre">canonical_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_multimethods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#canonical_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.canonical_source" title="Link to this definition"></a></dt>
<dd><p>Get canonical source for a spec’s package.py by unparsing its AST.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filter_multimethods</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – By default, filter multimethods out of the
AST if they are known statically to be unused. Supply False to disable.</p></li>
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Optionally provide a string to read python code from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.package_hash.package_ast">
<span class="sig-prename descclassname"><span class="pre">spack.util.package_hash.</span></span><span class="sig-name descname"><span class="pre">package_ast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_multimethods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#package_ast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.package_ast" title="Link to this definition"></a></dt>
<dd><p>Get the AST for the <code class="docutils literal notranslate"><span class="pre">package.py</span></code> file corresponding to <code class="docutils literal notranslate"><span class="pre">spec</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filter_multimethods</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – By default, filter multimethods out of the
AST if they are known statically to be unused. Supply False to disable.</p></li>
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Optionally provide a string to read python code from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.package_hash.package_hash">
<span class="sig-prename descclassname"><span class="pre">spack.util.package_hash.</span></span><span class="sig-name descname"><span class="pre">package_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/package_hash.html#package_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.package_hash.package_hash" title="Link to this definition"></a></dt>
<dd><p>Get a hash of a package’s canonical source code.</p>
<p>This function is used to determine whether a spec needs a rebuild when a
package’s source code changes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Optionally provide a string to read python code from.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.parallel">
<span id="spack-util-parallel-module"></span><h2>spack.util.parallel module<a class="headerlink" href="#module-spack.util.parallel" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.parallel.ErrorFromWorker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.parallel.</span></span><span class="sig-name descname"><span class="pre">ErrorFromWorker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc_cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/parallel.html#ErrorFromWorker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.parallel.ErrorFromWorker" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Wrapper class to report an error from a worker process</p>
<dl class="py property">
<dt class="sig sig-object py" id="spack.util.parallel.ErrorFromWorker.stacktrace">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stacktrace</span></span><a class="headerlink" href="#spack.util.parallel.ErrorFromWorker.stacktrace" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.parallel.SequentialExecutor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.parallel.</span></span><span class="sig-name descname"><span class="pre">SequentialExecutor</span></span><a class="reference internal" href="_modules/spack/util/parallel.html#SequentialExecutor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.parallel.SequentialExecutor" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Executor</span></code></p>
<p>Executor that runs tasks sequentially in the current thread.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.parallel.SequentialExecutor.submit">
<span class="sig-name descname"><span class="pre">submit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/parallel.html#SequentialExecutor.submit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.parallel.SequentialExecutor.submit" title="Link to this definition"></a></dt>
<dd><p>Submit a function to be executed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.parallel.Task">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.parallel.</span></span><span class="sig-name descname"><span class="pre">Task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/parallel.html#Task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.parallel.Task" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Wrapped task that trap every Exception and return it as an
ErrorFromWorker object.</p>
<p>We are using a wrapper class instead of a decorator since the class
is pickleable, while a decorator with an inner closure is not.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.parallel.imap_unordered">
<span class="sig-prename descclassname"><span class="pre">spack.util.parallel.</span></span><span class="sig-name descname"><span class="pre">imap_unordered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_of_args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxtaskperchild</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/parallel.html#imap_unordered"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.parallel.imap_unordered" title="Link to this definition"></a></dt>
<dd><p>Wrapper around multiprocessing.Pool.imap_unordered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> – function to apply</p></li>
<li><p><strong>list_of_args</strong> – list of tuples of args for the task</p></li>
<li><p><strong>processes</strong> – maximum number of processes allowed</p></li>
<li><p><strong>debug</strong> – if False, raise an exception containing just the error messages
from workers, if True an exception with complete stacktraces</p></li>
<li><p><strong>maxtaskperchild</strong> – number of tasks to be executed by a child before being
killed and substituted</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.13)"><strong>RuntimeError</strong></a> – if any error occurred in the worker processes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.parallel.make_concurrent_executor">
<span class="sig-prename descclassname"><span class="pre">spack.util.parallel.</span></span><span class="sig-name descname"><span class="pre">make_concurrent_executor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jobs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">require_fork</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Executor</span></span></span><a class="reference internal" href="_modules/spack/util/parallel.html#make_concurrent_executor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.parallel.make_concurrent_executor" title="Link to this definition"></a></dt>
<dd><p>Create a concurrent executor. If require_fork is True, then the executor is sequential
if the platform does not enable forking as the default start method. Effectively
require_fork=True makes the executor sequential in the current process on Windows, macOS, and
Linux from Python 3.14+ (which changes defaults)</p>
</dd></dl>

</section>
<section id="module-spack.util.path">
<span id="spack-util-path-module"></span><h2>spack.util.path module<a class="headerlink" href="#module-spack.util.path" title="Link to this heading"></a></h2>
<p>Utilities for managing paths in Spack.</p>
<p>TODO: this is really part of spack.config. Consolidate it.</p>
<dl class="py function">
<dt class="sig sig-object py" id="spack.util.path.canonicalize_path">
<span class="sig-prename descclassname"><span class="pre">spack.util.path.</span></span><span class="sig-name descname"><span class="pre">canonicalize_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_wd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/path.html#canonicalize_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.path.canonicalize_path" title="Link to this definition"></a></dt>
<dd><p>Same as substitute_path_variables, but also take absolute path.</p>
<p>If the string is a yaml object with file annotations, make absolute paths
relative to that file’s directory.
Otherwise, use <code class="docutils literal notranslate"><span class="pre">default_wd</span></code> if specified, otherwise <code class="docutils literal notranslate"><span class="pre">os.getcwd()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – path being converted as needed</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An absolute path with path variable substitution</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.path.substitute_config_variables">
<span class="sig-prename descclassname"><span class="pre">spack.util.path.</span></span><span class="sig-name descname"><span class="pre">substitute_config_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/path.html#substitute_config_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.path.substitute_config_variables" title="Link to this definition"></a></dt>
<dd><p>Substitute placeholders into paths.</p>
<p>Spack allows paths in configs to have some placeholders, as follows:</p>
<ul class="simple">
<li><p>$env                 The active Spack environment.</p></li>
<li><p>$spack               The Spack instance’s prefix</p></li>
<li><p>$tempdir             Default temporary directory returned by tempfile.gettempdir()</p></li>
<li><p>$user                The current user’s username</p></li>
<li><p>$user_cache_path     The user cache directory (~/.spack, unless overridden)</p></li>
<li><p>$architecture        The spack architecture triple for the current system</p></li>
<li><p>$arch                The spack architecture triple for the current system</p></li>
<li><p>$platform            The spack platform for the current system</p></li>
<li><p>$os                  The OS of the current system</p></li>
<li><p>$operating_system    The OS of the current system</p></li>
<li><p>$target              The ISA target detected for the system</p></li>
<li><p>$target_family       The family of the target detected for the system</p></li>
<li><p>$date                The current date (YYYY-MM-DD)</p></li>
<li><p>$spack_short_version The spack short version</p></li>
</ul>
<p>These are substituted case-insensitively into the path, and users can
use either <code class="docutils literal notranslate"><span class="pre">$var</span></code> or <code class="docutils literal notranslate"><span class="pre">${var}</span></code> syntax for the variables. $env is only
replaced if there is an active environment, and should only be used in
environment yaml files.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.path.substitute_path_variables">
<span class="sig-prename descclassname"><span class="pre">spack.util.path.</span></span><span class="sig-name descname"><span class="pre">substitute_path_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/path.html#substitute_path_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.path.substitute_path_variables" title="Link to this definition"></a></dt>
<dd><p>Substitute config vars, expand environment vars, expand user home.</p>
</dd></dl>

</section>
<section id="module-spack.util.pattern">
<span id="spack-util-pattern-module"></span><h2>spack.util.pattern module<a class="headerlink" href="#module-spack.util.pattern" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.pattern.Args">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.pattern.</span></span><span class="sig-name descname"><span class="pre">Args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">flags</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/pattern.html#Args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.pattern.Args" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.pattern.Bunch" title="spack.util.pattern.Bunch"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bunch</span></code></a></p>
<p>Subclass of Bunch to write argparse args more naturally.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.pattern.Bunch">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.pattern.</span></span><span class="sig-name descname"><span class="pre">Bunch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/pattern.html#Bunch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.pattern.Bunch" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Carries a bunch of named attributes (from Alex Martelli bunch)</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.pattern.Composite">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.pattern.</span></span><span class="sig-name descname"><span class="pre">Composite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fns_to_delegate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/pattern.html#Composite"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.pattern.Composite" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.pattern.Delegate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.pattern.</span></span><span class="sig-name descname"><span class="pre">Delegate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/pattern.html#Delegate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.pattern.Delegate" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.pattern.composite">
<span class="sig-prename descclassname"><span class="pre">spack.util.pattern.</span></span><span class="sig-name descname"><span class="pre">composite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interface=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_list=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container=&lt;class</span> <span class="pre">'list'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/pattern.html#composite"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.pattern.composite" title="Link to this definition"></a></dt>
<dd><p>Decorator implementing the GoF composite pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interface</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><em>type</em></a>) – class exposing the interface to which the
composite object must conform. Only non-private and
non-special methods will be taken into account</p></li>
<li><p><strong>method_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – names of methods that should be part
of the composite</p></li>
<li><p><strong>container</strong> (<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableSequence" title="(in Python v3.13)"><em>collections.abc.MutableSequence</em></a>) – container for the composite object
(default = list).  Must fulfill the MutableSequence
contract. The composite class will expose the container API
to manage object composition</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a class decorator that patches a class adding all the methods
it needs to be a composite for a given interface.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-spack.util.prefix">
<span id="spack-util-prefix-module"></span><h2>spack.util.prefix module<a class="headerlink" href="#module-spack.util.prefix" title="Link to this heading"></a></h2>
<p>This file contains utilities for managing the installation prefix of a package.</p>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.prefix.Prefix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.prefix.</span></span><span class="sig-name descname"><span class="pre">Prefix</span></span><a class="reference internal" href="_modules/spack/util/prefix.html#Prefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.prefix.Prefix" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>This class represents an installation prefix, but provides useful attributes for referring
to directories inside the prefix.</p>
<p>Attributes of this object are created on the fly when you request them, so any of the following
are valid:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prefix</span> <span class="o">=</span> <span class="n">Prefix</span><span class="p">(</span><span class="s2">&quot;/usr&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefix</span><span class="o">.</span><span class="n">bin</span>
<span class="go">/usr/bin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefix</span><span class="o">.</span><span class="n">lib64</span>
<span class="go">/usr/lib64</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefix</span><span class="o">.</span><span class="n">share</span><span class="o">.</span><span class="n">man</span>
<span class="go">/usr/share/man</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefix</span><span class="o">.</span><span class="n">foo</span><span class="o">.</span><span class="n">bar</span><span class="o">.</span><span class="n">baz</span>
<span class="go">/usr/foo/bar/baz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefix</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;dashed-directory&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">bin64</span>
<span class="go">/usr/dashed-directory/bin64</span>
</pre></div>
</div>
<p>Prefix objects behave identically to strings. In fact, they subclass <code class="docutils literal notranslate"><span class="pre">str</span></code>, so operators like
<code class="docutils literal notranslate"><span class="pre">+</span></code> are legal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;foobar &quot;</span> <span class="o">+</span> <span class="n">prefix</span><span class="p">)</span>
</pre></div>
</div>
<p>This prints <code class="docutils literal notranslate"><span class="pre">foobar</span> <span class="pre">/usr</span></code>. All of this is meant to make custom installs easy.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.prefix.Prefix.join">
<span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#spack.util.prefix.Prefix" title="spack.util.prefix.Prefix"><span class="pre">Prefix</span></a></span></span><a class="reference internal" href="_modules/spack/util/prefix.html#Prefix.join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.prefix.Prefix.join" title="Link to this definition"></a></dt>
<dd><p>Concatenate a string to a prefix.</p>
<p>Useful for strings that are not valid variable names. This includes strings containing
characters like <code class="docutils literal notranslate"><span class="pre">-</span></code> and <code class="docutils literal notranslate"><span class="pre">.</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>string</strong> – the string to append to the prefix</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the newly created installation prefix</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-spack.util.s3">
<span id="spack-util-s3-module"></span><h2>spack.util.s3 module<a class="headerlink" href="#module-spack.util.s3" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.s3.UrllibS3Handler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.s3.</span></span><span class="sig-name descname"><span class="pre">UrllibS3Handler</span></span><a class="reference internal" href="_modules/spack/util/s3.html#UrllibS3Handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.s3.UrllibS3Handler" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/urllib.request.html#urllib.request.BaseHandler" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHandler</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.s3.UrllibS3Handler.s3_open">
<span class="sig-name descname"><span class="pre">s3_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/s3.html#UrllibS3Handler.s3_open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.s3.UrllibS3Handler.s3_open" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.s3.WrapStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.s3.</span></span><span class="sig-name descname"><span class="pre">WrapStream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/s3.html#WrapStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.s3.WrapStream" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BufferedReader</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.s3.WrapStream.detach">
<span class="sig-name descname"><span class="pre">detach</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/s3.html#WrapStream.detach"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.s3.WrapStream.detach" title="Link to this definition"></a></dt>
<dd><p>Disconnect this buffer from its underlying raw stream and return it.</p>
<p>After the raw stream has been detached, the buffer is in an unusable
state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.s3.WrapStream.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/s3.html#WrapStream.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.s3.WrapStream.read" title="Link to this definition"></a></dt>
<dd><p>Read and return up to n bytes.</p>
<p>If the size argument is omitted, None, or negative, read and
return all data until EOF.</p>
<p>If the size argument is positive, and the underlying raw stream is
not ‘interactive’, multiple raw reads may be issued to satisfy
the byte count (unless EOF is reached first).
However, for interactive raw streams (as well as sockets and pipes),
at most one raw read will be issued, and a short result does not
imply that EOF is imminent.</p>
<p>Return an empty bytes object on EOF.</p>
<p>Return None if the underlying raw stream was open in non-blocking
mode and no data is available at the moment.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.s3.get_mirror_s3_connection_info">
<span class="sig-prename descclassname"><span class="pre">spack.util.s3.</span></span><span class="sig-name descname"><span class="pre">get_mirror_s3_connection_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mirror</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/s3.html#get_mirror_s3_connection_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.s3.get_mirror_s3_connection_info" title="Link to this definition"></a></dt>
<dd><p>Create s3 config for session/client from a Mirror instance (or just set defaults
when no mirror is given.)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.s3.get_s3_session">
<span class="sig-prename descclassname"><span class="pre">spack.util.s3.</span></span><span class="sig-name descname"><span class="pre">get_s3_session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fetch'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/s3.html#get_s3_session"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.s3.get_s3_session" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="spack.util.s3.s3_client_cache">
<span class="sig-prename descclassname"><span class="pre">spack.util.s3.</span></span><span class="sig-name descname"><span class="pre">s3_client_cache</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#spack.util.s3.s3_client_cache" title="Link to this definition"></a></dt>
<dd><p>Map (mirror name, method) tuples to s3 client instances.</p>
</dd></dl>

</section>
<section id="module-spack.util.spack_json">
<span id="spack-util-spack-json-module"></span><h2>spack.util.spack_json module<a class="headerlink" href="#module-spack.util.spack_json" title="Link to this heading"></a></h2>
<p>Simple wrapper around JSON to guarantee consistent use of load/dump.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.spack_json.SpackJSONError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.spack_json.</span></span><span class="sig-name descname"><span class="pre">SpackJSONError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#BaseException" title="(in Python v3.13)"><span class="pre">BaseException</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/spack_json.html#SpackJSONError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.spack_json.SpackJSONError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="spack.html#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpackError</span></code></a></p>
<p>Raised when there are issues with JSON parsing.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.spack_json.dump">
<span class="sig-prename descclassname"><span class="pre">spack.util.spack_json.</span></span><span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/spack_json.html#dump"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.spack_json.dump" title="Link to this definition"></a></dt>
<dd><p>Dump JSON with a reasonable amount of indentation and separation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.spack_json.load">
<span class="sig-prename descclassname"><span class="pre">spack.util.spack_json.</span></span><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a></span></span><a class="reference internal" href="_modules/spack/util/spack_json.html#load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.spack_json.load" title="Link to this definition"></a></dt>
<dd><p>Spack JSON needs to be ordered to support specs.</p>
</dd></dl>

</section>
<section id="module-spack.util.spack_yaml">
<span id="spack-util-spack-yaml-module"></span><h2>spack.util.spack_yaml module<a class="headerlink" href="#module-spack.util.spack_yaml" title="Link to this heading"></a></h2>
<p>Enhanced YAML parsing for Spack.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">load()</span></code> preserves YAML Marks on returned objects – this allows
us to access file and line information later.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Our</span> <span class="pre">load</span> <span class="pre">methods</span> <span class="pre">use</span> <span class="pre">``OrderedDict</span></code> class instead of YAML’s
default unorderd dict.</p></li>
</ul>
<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.spack_yaml.SpackYAMLError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.spack_yaml.</span></span><span class="sig-name descname"><span class="pre">SpackYAMLError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaml_error</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/spack_yaml.html#SpackYAMLError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.spack_yaml.SpackYAMLError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="spack.html#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpackError</span></code></a></p>
<p>Raised when there are issues with YAML parsing.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.spack_yaml.dump">
<span class="sig-prename descclassname"><span class="pre">spack.util.spack_yaml.</span></span><span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_flow_style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/spack_yaml.html#dump"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.spack_yaml.dump" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.spack_yaml.load">
<span class="sig-prename descclassname"><span class="pre">spack.util.spack_yaml.</span></span><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/spack_yaml.html#load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.spack_yaml.load" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-spack.util.timer">
<span id="spack-util-timer-module"></span><h2>spack.util.timer module<a class="headerlink" href="#module-spack.util.timer" title="Link to this heading"></a></h2>
<p>Debug signal handler: prints a stack trace and enters interpreter.</p>
<p><code class="docutils literal notranslate"><span class="pre">register_interrupt_handler()</span></code> enables a ctrl-C handler that prints
a stack trace and drops the user into an interpreter.</p>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.timer.BaseTimer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.timer.</span></span><span class="sig-name descname"><span class="pre">BaseTimer</span></span><a class="reference internal" href="_modules/spack/util/timer.html#BaseTimer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.BaseTimer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.timer.BaseTimer.duration">
<span class="sig-name descname"><span class="pre">duration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#BaseTimer.duration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.BaseTimer.duration" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.timer.BaseTimer.measure">
<span class="sig-name descname"><span class="pre">measure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#BaseTimer.measure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.BaseTimer.measure" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="spack.util.timer.BaseTimer.phases">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">phases</span></span><a class="headerlink" href="#spack.util.timer.BaseTimer.phases" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.timer.BaseTimer.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#BaseTimer.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.BaseTimer.start" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.timer.BaseTimer.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#BaseTimer.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.BaseTimer.stop" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.timer.BaseTimer.write_json">
<span class="sig-name descname"><span class="pre">write_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#BaseTimer.write_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.BaseTimer.write_json" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.timer.BaseTimer.write_tty">
<span class="sig-name descname"><span class="pre">write_tty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#BaseTimer.write_tty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.BaseTimer.write_tty" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="spack.util.timer.NULL_TIMER">
<span class="sig-prename descclassname"><span class="pre">spack.util.timer.</span></span><span class="sig-name descname"><span class="pre">NULL_TIMER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;spack.util.timer.NullTimer</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#spack.util.timer.NULL_TIMER" title="Link to this definition"></a></dt>
<dd><p>instance of a do-nothing timer</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.timer.NullTimer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.timer.</span></span><span class="sig-name descname"><span class="pre">NullTimer</span></span><a class="reference internal" href="_modules/spack/util/timer.html#NullTimer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.NullTimer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.timer.BaseTimer" title="spack.util.timer.BaseTimer"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseTimer</span></code></a></p>
<p>Timer interface that does nothing, useful in for “tell
don’t ask” style code when timers are optional.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.timer.TimeTracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.timer.</span></span><span class="sig-name descname"><span class="pre">TimeTracker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">total</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#spack.util.timer.TimeTracker" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.timer.TimeTracker.count">
<span class="sig-name descname"><span class="pre">count</span></span><a class="headerlink" href="#spack.util.timer.TimeTracker.count" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.timer.TimeTracker.path">
<span class="sig-name descname"><span class="pre">path</span></span><a class="headerlink" href="#spack.util.timer.TimeTracker.path" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.timer.TimeTracker.start">
<span class="sig-name descname"><span class="pre">start</span></span><a class="headerlink" href="#spack.util.timer.TimeTracker.start" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.timer.TimeTracker.total">
<span class="sig-name descname"><span class="pre">total</span></span><a class="headerlink" href="#spack.util.timer.TimeTracker.total" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.timer.Timer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.timer.</span></span><span class="sig-name descname"><span class="pre">Timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">now:</span> <span class="pre">~typing.Callable[[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float]</span> <span class="pre">=</span> <span class="pre">&lt;built-in</span> <span class="pre">function</span> <span class="pre">time&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#Timer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.Timer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.timer.BaseTimer" title="spack.util.timer.BaseTimer"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseTimer</span></code></a></p>
<p>Simple interval timer</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.timer.Timer.duration">
<span class="sig-name descname"><span class="pre">duration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_global'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#Timer.duration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.Timer.duration" title="Link to this definition"></a></dt>
<dd><p>Get the time in seconds of a named timer, or the total time if no
name is passed. The duration is always 0 for timers that have not been
started, no error is raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – (Optional) name of the timer</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>duration of timer.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.timer.Timer.measure">
<span class="sig-name descname"><span class="pre">measure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#Timer.measure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.Timer.measure" title="Link to this definition"></a></dt>
<dd><p>Context manager that allows you to time a block of code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Name of the timer</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="spack.util.timer.Timer.phases">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">phases</span></span><a class="headerlink" href="#spack.util.timer.Timer.phases" title="Link to this definition"></a></dt>
<dd><p>Get all named timers (excluding the global/total timer)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.timer.Timer.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_global'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#Timer.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.Timer.start" title="Link to this definition"></a></dt>
<dd><p>Start or restart a named timer, or the global timer when no name is given.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Optional name of the timer. When no name is passed, the
global timer is started.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.timer.Timer.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_global'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#Timer.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.Timer.stop" title="Link to this definition"></a></dt>
<dd><p>Stop a named timer, or all timers when no name is given. Stopping a
timer that has not started has no effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Optional name of the timer. When no name is passed, all
timers are stopped.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.timer.Timer.write_json">
<span class="sig-name descname"><span class="pre">write_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_attributes={}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#Timer.write_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.Timer.write_json" title="Link to this definition"></a></dt>
<dd><p>Write a json object with times to file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.timer.Timer.write_tty">
<span class="sig-name descname"><span class="pre">write_tty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/timer.html#Timer.write_tty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.timer.Timer.write_tty" title="Link to this definition"></a></dt>
<dd><p>Write a human-readable summary of timings (depth is 1)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.timer.TimerEvent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.timer.</span></span><span class="sig-name descname"><span class="pre">TimerEvent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">running</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#spack.util.timer.TimerEvent" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.timer.TimerEvent.label">
<span class="sig-name descname"><span class="pre">label</span></span><a class="headerlink" href="#spack.util.timer.TimerEvent.label" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.timer.TimerEvent.running">
<span class="sig-name descname"><span class="pre">running</span></span><a class="headerlink" href="#spack.util.timer.TimerEvent.running" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.timer.TimerEvent.time">
<span class="sig-name descname"><span class="pre">time</span></span><a class="headerlink" href="#spack.util.timer.TimerEvent.time" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="spack.util.timer.global_timer_name">
<span class="sig-prename descclassname"><span class="pre">spack.util.timer.</span></span><span class="sig-name descname"><span class="pre">global_timer_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'_global'</span></em><a class="headerlink" href="#spack.util.timer.global_timer_name" title="Link to this definition"></a></dt>
<dd><p>name for the global timer (used in start(), stop(), duration() without arguments)</p>
</dd></dl>

</section>
<section id="module-spack.util.url">
<span id="spack-util-url-module"></span><h2>spack.util.url module<a class="headerlink" href="#module-spack.util.url" title="Link to this heading"></a></h2>
<p>Utility functions for parsing, formatting, and manipulating URLs.</p>
<dl class="py function">
<dt class="sig sig-object py" id="spack.util.url.default_download_filename">
<span class="sig-prename descclassname"><span class="pre">spack.util.url.</span></span><span class="sig-name descname"><span class="pre">default_download_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/spack/util/url.html#default_download_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.url.default_download_filename" title="Link to this definition"></a></dt>
<dd><p>This method computes a default file name for a given URL.
Note that it makes no request, so this is not the same as the
option curl -O, which uses the remote file name from the response
header.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.url.file_url_string_to_path">
<span class="sig-prename descclassname"><span class="pre">spack.util.url.</span></span><span class="sig-name descname"><span class="pre">file_url_string_to_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/url.html#file_url_string_to_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.url.file_url_string_to_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.url.format">
<span class="sig-prename descclassname"><span class="pre">spack.util.url.</span></span><span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parsed_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/url.html#format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.url.format" title="Link to this definition"></a></dt>
<dd><p>Format a URL string</p>
<p>Returns a canonicalized format of the given URL as a string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.url.is_path_instead_of_url">
<span class="sig-prename descclassname"><span class="pre">spack.util.url.</span></span><span class="sig-name descname"><span class="pre">is_path_instead_of_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_or_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/url.html#is_path_instead_of_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.url.is_path_instead_of_url" title="Link to this definition"></a></dt>
<dd><p>Historically some config files and spack commands used paths
where urls should be used. This utility can be used to validate
and promote paths to urls.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.url.join">
<span class="sig-prename descclassname"><span class="pre">spack.util.url.</span></span><span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">components</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolve_href</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/spack/util/url.html#join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.url.join" title="Link to this definition"></a></dt>
<dd><p>Convenience wrapper around <code class="docutils literal notranslate"><span class="pre">urllib.parse.urljoin</span></code>, with a few differences:
1. By default resolve_href=False, which makes the function like os.path.join: for example
<a class="reference external" href="https://example.com/a/b">https://example.com/a/b</a> + c/d = <a class="reference external" href="https://example.com/a/b/c/d">https://example.com/a/b/c/d</a>. If resolve_href=True, the
behavior is how a browser would resolve the URL: <a class="reference external" href="https://example.com/a/c/d">https://example.com/a/c/d</a>.
2. s3://, gs://, oci:// URLs are joined like http:// URLs.
3. It accepts multiple components for convenience. Note that components[1:] are treated as
literal path components and appended to components[0] separated by slashes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.url.local_file_path">
<span class="sig-prename descclassname"><span class="pre">spack.util.url.</span></span><span class="sig-name descname"><span class="pre">local_file_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/url.html#local_file_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.url.local_file_path" title="Link to this definition"></a></dt>
<dd><p>Get a local file path from a url.</p>
<p>If url is a <a class="reference external" href="file://">file://</a> URL, return the absolute path to the local
file or directory referenced by it.  Otherwise, return None.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.url.parse_link_rel_next">
<span class="sig-prename descclassname"><span class="pre">spack.util.url.</span></span><span class="sig-name descname"><span class="pre">parse_link_rel_next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/url.html#parse_link_rel_next"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.url.parse_link_rel_next" title="Link to this definition"></a></dt>
<dd><p>Return the next link from a Link header value, if any.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.url.path_to_file_url">
<span class="sig-prename descclassname"><span class="pre">spack.util.url.</span></span><span class="sig-name descname"><span class="pre">path_to_file_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/url.html#path_to_file_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.url.path_to_file_url" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.url.validate_scheme">
<span class="sig-prename descclassname"><span class="pre">spack.util.url.</span></span><span class="sig-name descname"><span class="pre">validate_scheme</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scheme</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/url.html#validate_scheme"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.url.validate_scheme" title="Link to this definition"></a></dt>
<dd><p>Returns true if the URL scheme is generally known to Spack. This function
helps mostly in validation of paths vs urls, as Windows paths such as
C:/x/y/z (with backward not forward slash) may parse as a URL with scheme
C and path /x/y/z.</p>
</dd></dl>

</section>
<section id="module-spack.util.web">
<span id="spack-util-web-module"></span><h2>spack.util.web module<a class="headerlink" href="#module-spack.util.web" title="Link to this heading"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.web.DetailedHTTPError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">DetailedHTTPError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/urllib.request.html#urllib.request.Request" title="(in Python v3.13)"><span class="pre">Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/email.compat32-message.html#email.message.Message" title="(in Python v3.13)"><span class="pre">Message</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.IO" title="(in Python v3.13)"><span class="pre">IO</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#DetailedHTTPError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.DetailedHTTPError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/urllib.error.html#urllib.error.HTTPError" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPError</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.web.ExtractMetadataParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">ExtractMetadataParser</span></span><a class="reference internal" href="_modules/spack/util/web.html#ExtractMetadataParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.ExtractMetadataParser" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/html.parser.html#html.parser.HTMLParser" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTMLParser</span></code></a></p>
<p>This parser takes an HTML page and selects the include-fragments,
used on GitHub, <a class="reference external" href="https://github.github.io/include-fragment-element">https://github.github.io/include-fragment-element</a>,
as well as a possible base url.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.web.ExtractMetadataParser.handle_starttag">
<span class="sig-name descname"><span class="pre">handle_starttag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#ExtractMetadataParser.handle_starttag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.ExtractMetadataParser.handle_starttag" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.web.HTMLParseError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">HTMLParseError</span></span><a class="reference internal" href="_modules/spack/util/web.html#HTMLParseError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.HTMLParseError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.web.LinkParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">LinkParser</span></span><a class="reference internal" href="_modules/spack/util/web.html#LinkParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.LinkParser" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/html.parser.html#html.parser.HTMLParser" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTMLParser</span></code></a></p>
<p>This parser just takes an HTML page and strips out the hrefs on the
links, as well as some javascript tags used on GitLab servers.
Good enough for a really simple spider.</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.web.LinkParser.handle_starttag">
<span class="sig-name descname"><span class="pre">handle_starttag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#LinkParser.handle_starttag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.LinkParser.handle_starttag" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.web.NoNetworkConnectionError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">NoNetworkConnectionError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#NoNetworkConnectionError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.NoNetworkConnectionError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.web.SpackWebError" title="spack.util.web.SpackWebError"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpackWebError</span></code></a></p>
<p>Raised when an operation can’t get an internet connection.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="spack.util.web.SPACK_USER_AGENT">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">SPACK_USER_AGENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Spackbot/0.23.1'</span></em><a class="headerlink" href="#spack.util.web.SPACK_USER_AGENT" title="Link to this definition"></a></dt>
<dd><p>User-Agent used in Request objects</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.web.SpackHTTPDefaultErrorHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">SpackHTTPDefaultErrorHandler</span></span><a class="reference internal" href="_modules/spack/util/web.html#SpackHTTPDefaultErrorHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.SpackHTTPDefaultErrorHandler" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/urllib.request.html#urllib.request.HTTPDefaultErrorHandler" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPDefaultErrorHandler</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.web.SpackHTTPDefaultErrorHandler.http_error_default">
<span class="sig-name descname"><span class="pre">http_error_default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdrs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#SpackHTTPDefaultErrorHandler.http_error_default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.SpackHTTPDefaultErrorHandler.http_error_default" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.web.SpackWebError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">SpackWebError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#SpackWebError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.SpackWebError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="spack.html#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpackError</span></code></a></p>
<p>Superclass for Spack web spidering errors.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.base_curl_fetch_args">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">base_curl_fetch_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#base_curl_fetch_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.base_curl_fetch_args" title="Link to this definition"></a></dt>
<dd><p>Return the basic fetch arguments typically used in calls to curl.</p>
<p>The arguments include those for ensuring behaviors such as failing on
errors for codes over 400, printing HTML headers, resolving 3xx redirects,
status or failure handling, and connection timeouts.</p>
<p>It also uses the following configuration option to set an additional
argument as needed:</p>
<blockquote>
<div><ul class="simple">
<li><p>config:connect_timeout (int): connection timeout</p></li>
<li><p>config:verify_ssl (str): Perform SSL verification</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – URL whose contents will be fetched</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Connection timeout, which is only used if higher than
config:connect_timeout</p></li>
</ul>
</dd>
</dl>
<p>Returns (list): list of argument strings</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.check_curl_code">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">check_curl_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returncode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/web.html#check_curl_code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.check_curl_code" title="Link to this definition"></a></dt>
<dd><p>Check standard return code failures for provided arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>returncode</strong> – curl return code</p>
</dd>
</dl>
<p>Raises FetchError if the curl returncode indicates failure</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.custom_ssl_certs">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">custom_ssl_certs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/web.html#custom_ssl_certs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.custom_ssl_certs" title="Link to this definition"></a></dt>
<dd><p>Returns a tuple (is_file, path) if custom SSL certifates are configured and valid.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.fetch_url_text">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">fetch_url_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">curl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.executable.Executable" title="spack.util.executable.Executable"><span class="pre">Executable</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#fetch_url_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.fetch_url_text" title="Link to this definition"></a></dt>
<dd><p>Retrieves text-only URL content using the configured fetch method.
It determines the fetch method from:</p>
<blockquote>
<div><ul class="simple">
<li><p>config:url_fetch_method (str): fetch method to use (e.g., ‘curl’)</p></li>
</ul>
</div></blockquote>
<p>If the method is <cite>curl</cite>, it also uses the following configuration
options:</p>
<blockquote>
<div><ul class="simple">
<li><p>config:connect_timeout (int): connection time out</p></li>
<li><p>config:verify_ssl (str): Perform SSL verification</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – URL whose contents are to be fetched</p></li>
<li><p><strong>curl</strong> (<a class="reference internal" href="#spack.util.executable.Executable" title="spack.util.executable.Executable"><em>spack.util.executable.Executable</em></a><em> or </em><em>None</em>) – (optional) curl
executable if curl is the configured fetch method</p></li>
<li><p><strong>dest_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – (optional) destination directory for fetched text
file</p></li>
</ul>
</dd>
</dl>
<p>Returns (str or None): path to the fetched file</p>
<p>Raises FetchError if the curl returncode indicates failure</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.get_header">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">get_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">headers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#get_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.get_header" title="Link to this definition"></a></dt>
<dd><p>Looks up a dict of headers for the given header value.</p>
<p>Looks up a dict of headers, [headers], for a header value given by
[header_name].  Returns headers[header_name] if header_name is in headers.
Otherwise, the first fuzzy match is returned, if any.</p>
<p>This fuzzy matching is performed by discarding word separators and
capitalization, so that for example, “Content-length”, “content_length”,
“conTENtLength”, etc., all match.  In the case of multiple fuzzy-matches,
the returned value is the “first” such match given the underlying mapping’s
ordering, or unspecified if no such ordering is defined.</p>
<p>If header_name is not in headers, and no such fuzzy match exists, then a
KeyError is raised.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.list_url">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">list_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#list_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.list_url" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.parse_etag">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">parse_etag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header_value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#parse_etag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.parse_etag" title="Link to this definition"></a></dt>
<dd><p>Parse a strong etag from an ETag: &lt;value&gt; header value.
We don’t allow for weakness indicators because it’s unclear
what that means for cache invalidation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.push_to_url">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">push_to_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_original</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#push_to_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.push_to_url" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.read_from_url">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">read_from_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accept_content_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#read_from_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.read_from_url" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.remove_url">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">remove_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#remove_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.remove_url" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.require_curl">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">require_curl</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#spack.util.executable.Executable" title="spack.util.executable.Executable"><span class="pre">Executable</span></a></span></span><a class="reference internal" href="_modules/spack/util/web.html#require_curl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.require_curl" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.set_curl_env_for_ssl_certs">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">set_curl_env_for_ssl_certs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">curl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#spack.util.executable.Executable" title="spack.util.executable.Executable"><span class="pre">Executable</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/spack/util/web.html#set_curl_env_for_ssl_certs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.set_curl_env_for_ssl_certs" title="Link to this definition"></a></dt>
<dd><p>configure curl to use custom certs in a file at runtime. See:
<a class="reference external" href="https://curl.se/docs/sslcerts.html">https://curl.se/docs/sslcerts.html</a> item 4</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.spider">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">spider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_urls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concurrency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#spider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.spider" title="Link to this definition"></a></dt>
<dd><p>Get web pages from root URLs.</p>
<p>If depth is specified (e.g., depth=2), then this will also follow up to &lt;depth&gt; levels
of links from each root.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root_urls</strong> – root urls used as a starting point for spidering</p></li>
<li><p><strong>depth</strong> – level of recursion into links</p></li>
<li><p><strong>concurrency</strong> – number of simultaneous requests that can be sent</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dict of pages visited (URL) mapped to their full text and the set of visited links.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.ssl_create_default_context">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">ssl_create_default_context</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#ssl_create_default_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.ssl_create_default_context" title="Link to this definition"></a></dt>
<dd><p>Create the default SSL context for urllib with custom certificates if configured.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spack.util.web.url_exists">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">url_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">curl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/web.html#url_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.web.url_exists" title="Link to this definition"></a></dt>
<dd><p>Determines whether url exists.</p>
<p>A scheme-specific process is used for Google Storage (<cite>gs</cite>) and Amazon
Simple Storage Service (<cite>s3</cite>) URLs; otherwise, the configured fetch
method defined by <cite>config:url_fetch_method</cite> is used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – URL whose existence is being checked</p></li>
<li><p><strong>curl</strong> (<a class="reference internal" href="#spack.util.executable.Executable" title="spack.util.executable.Executable"><em>spack.util.executable.Executable</em></a><em> or </em><em>None</em>) – (optional) curl
executable if curl is the configured fetch method</p></li>
</ul>
</dd>
</dl>
<p>Returns (bool): True if it exists; False otherwise.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="spack.util.web.urlopen">
<span class="sig-prename descclassname"><span class="pre">spack.util.web.</span></span><span class="sig-name descname"><span class="pre">urlopen</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;function</span> <span class="pre">_urlopen.&lt;locals&gt;.dispatch_open&gt;</span></em><a class="headerlink" href="#spack.util.web.urlopen" title="Link to this definition"></a></dt>
<dd><p>Dispatches to the correct OpenerDirector.open, based on Spack configuration.</p>
</dd></dl>

</section>
<section id="module-spack.util.windows_registry">
<span id="spack-util-windows-registry-module"></span><h2>spack.util.windows_registry module<a class="headerlink" href="#module-spack.util.windows_registry" title="Link to this heading"></a></h2>
<p>Utility module for dealing with Windows Registry.</p>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.windows_registry.HKEY">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.windows_registry.</span></span><span class="sig-name descname"><span class="pre">HKEY</span></span><a class="reference internal" href="_modules/spack/util/windows_registry.html#HKEY"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.HKEY" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Predefined, open registry HKEYs
From the Microsoft docs:
An application must open a key before it can read data from the registry.
To open a key, an application must supply a handle to another key in
the registry that is already open. The system defines predefined keys
that are always open. Predefined keys help an application navigate in
the registry.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.windows_registry.HKEY.HKEY_CLASSES_ROOT">
<span class="sig-name descname"><span class="pre">HKEY_CLASSES_ROOT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;spack.util.windows_registry._HKEY_CONSTANT</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#spack.util.windows_registry.HKEY.HKEY_CLASSES_ROOT" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.windows_registry.HKEY.HKEY_CURRENT_CONFIG">
<span class="sig-name descname"><span class="pre">HKEY_CURRENT_CONFIG</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;spack.util.windows_registry._HKEY_CONSTANT</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#spack.util.windows_registry.HKEY.HKEY_CURRENT_CONFIG" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.windows_registry.HKEY.HKEY_CURRENT_USER">
<span class="sig-name descname"><span class="pre">HKEY_CURRENT_USER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;spack.util.windows_registry._HKEY_CONSTANT</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#spack.util.windows_registry.HKEY.HKEY_CURRENT_USER" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.windows_registry.HKEY.HKEY_LOCAL_MACHINE">
<span class="sig-name descname"><span class="pre">HKEY_LOCAL_MACHINE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;spack.util.windows_registry._HKEY_CONSTANT</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#spack.util.windows_registry.HKEY.HKEY_LOCAL_MACHINE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.windows_registry.HKEY.HKEY_PERFORMANCE_DATA">
<span class="sig-name descname"><span class="pre">HKEY_PERFORMANCE_DATA</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;spack.util.windows_registry._HKEY_CONSTANT</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#spack.util.windows_registry.HKEY.HKEY_PERFORMANCE_DATA" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spack.util.windows_registry.HKEY.HKEY_USERS">
<span class="sig-name descname"><span class="pre">HKEY_USERS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;spack.util.windows_registry._HKEY_CONSTANT</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#spack.util.windows_registry.HKEY.HKEY_USERS" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.windows_registry.InvalidKeyError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.windows_registry.</span></span><span class="sig-name descname"><span class="pre">InvalidKeyError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#InvalidKeyError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.InvalidKeyError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.windows_registry.RegistryError" title="spack.util.windows_registry.RegistryError"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegistryError</span></code></a></p>
<p>Runtime Error describing issue with invalid key access to Windows registry</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.windows_registry.InvalidRegistryOperation">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.windows_registry.</span></span><span class="sig-name descname"><span class="pre">InvalidRegistryOperation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#InvalidRegistryOperation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.InvalidRegistryOperation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.util.windows_registry.RegistryError" title="spack.util.windows_registry.RegistryError"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegistryError</span></code></a></p>
<p>A Runtime Error ecountered when a registry operation is invalid for
an indeterminate reason</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.windows_registry.</span></span><span class="sig-name descname"><span class="pre">RegistryError</span></span><a class="reference internal" href="_modules/spack/util/windows_registry.html#RegistryError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.RegistryError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>RunTime Error concerning the Windows Registry</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryKey">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.windows_registry.</span></span><span class="sig-name descname"><span class="pre">RegistryKey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#RegistryKey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.RegistryKey" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class wrapping a Windows registry key</p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryKey.EnumKey">
<span class="sig-name descname"><span class="pre">EnumKey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#RegistryKey.EnumKey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.RegistryKey.EnumKey" title="Link to this definition"></a></dt>
<dd><p>Convenience wrapper around winreg.EnumKey</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryKey.EnumValue">
<span class="sig-name descname"><span class="pre">EnumValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#RegistryKey.EnumValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.RegistryKey.EnumValue" title="Link to this definition"></a></dt>
<dd><p>Convenience wrapper around winreg.EnumValue</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryKey.OpenKeyEx">
<span class="sig-name descname"><span class="pre">OpenKeyEx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#RegistryKey.OpenKeyEx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.RegistryKey.OpenKeyEx" title="Link to this definition"></a></dt>
<dd><p>Convenience wrapper around winreg.OpenKeyEx</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryKey.QueryInfoKey">
<span class="sig-name descname"><span class="pre">QueryInfoKey</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#RegistryKey.QueryInfoKey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.RegistryKey.QueryInfoKey" title="Link to this definition"></a></dt>
<dd><p>Convenience wrapper around winreg.QueryInfoKey</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryKey.QueryValueEx">
<span class="sig-name descname"><span class="pre">QueryValueEx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#RegistryKey.QueryValueEx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.RegistryKey.QueryValueEx" title="Link to this definition"></a></dt>
<dd><p>Convenience wrapper around winreg.QueryValueEx</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryKey.get_subkey">
<span class="sig-name descname"><span class="pre">get_subkey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sub_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#RegistryKey.get_subkey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.RegistryKey.get_subkey" title="Link to this definition"></a></dt>
<dd><p>Returns subkey of name sub_key in a RegistryKey objects</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryKey.get_value">
<span class="sig-name descname"><span class="pre">get_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#RegistryKey.get_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.RegistryKey.get_value" title="Link to this definition"></a></dt>
<dd><p>Returns value associated with this key in RegistryValue object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryKey.hkey">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hkey</span></span><a class="headerlink" href="#spack.util.windows_registry.RegistryKey.hkey" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryKey.subkeys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">subkeys</span></span><a class="headerlink" href="#spack.util.windows_registry.RegistryKey.subkeys" title="Link to this definition"></a></dt>
<dd><p>Returns list of all subkeys of this key as RegistryKey objects</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryKey.values">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">values</span></span><a class="headerlink" href="#spack.util.windows_registry.RegistryKey.values" title="Link to this definition"></a></dt>
<dd><p>Returns all subvalues of this key as RegistryValue objects in dictionary
of value name : RegistryValue object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryKey.winreg_error_handler">
<span class="sig-name descname"><span class="pre">winreg_error_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#RegistryKey.winreg_error_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.RegistryKey.winreg_error_handler" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.windows_registry.RegistryValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.windows_registry.</span></span><span class="sig-name descname"><span class="pre">RegistryValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#RegistryValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.RegistryValue" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class defining a Windows registry entry</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spack.util.windows_registry.</span></span><span class="sig-name descname"><span class="pre">WindowsRegistryView</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_key=&lt;spack.util.windows_registry._HKEY_CONSTANT</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Interface to provide access, querying, and searching to Windows registry entries.
This class represents a single key entrypoint into the Windows registry
and provides an interface to this key’s values, its subkeys, and those subkey’s values.
This class cannot be used to move freely about the registry, only subkeys/values of
the root key used to instantiate this class.</p>
<dl class="py class">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.KeyMatchConditions">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">KeyMatchConditions</span></span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.KeyMatchConditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.KeyMatchConditions" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.KeyMatchConditions.name_matcher">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name_matcher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subkey_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.KeyMatchConditions.name_matcher"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.KeyMatchConditions.name_matcher" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.KeyMatchConditions.regex_matcher">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">regex_matcher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subkey_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.KeyMatchConditions.regex_matcher"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.KeyMatchConditions.regex_matcher" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.find_matching_subkey">
<span class="sig-name descname"><span class="pre">find_matching_subkey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subkey_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.find_matching_subkey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.find_matching_subkey" title="Link to this definition"></a></dt>
<dd><p>Perform a BFS of subkeys until a key matching subkey name regex is found
Returns None or the first RegistryKey object corresponding to requested key name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subkey_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – subkey to be searched for</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – perform a recursive search</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the desired subkey as a RegistryKey object, or none</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.find_subkey">
<span class="sig-name descname"><span class="pre">find_subkey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subkey_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.find_subkey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.find_subkey" title="Link to this definition"></a></dt>
<dd><p>Perform a BFS of subkeys until desired key is found
Returns None or RegistryKey object corresponding to requested key name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subkey_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – subkey to be searched for</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – perform a recursive search</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the desired subkey as a RegistryKey object, or none</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.find_subkeys">
<span class="sig-name descname"><span class="pre">find_subkeys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subkey_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.find_subkeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.find_subkeys" title="Link to this definition"></a></dt>
<dd><p>Exactly the same as find_subkey, except this function tries to match
a regex to multiple keys</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>subkey_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the desired subkeys as a list of RegistryKey object, or none</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.find_value">
<span class="sig-name descname"><span class="pre">find_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.find_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.find_value" title="Link to this definition"></a></dt>
<dd><p>If non recursive, return RegistryValue object corresponding to name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – name of value desired from registry</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – optional argument, if True, the registry is searched recursively
for the value of name val_name, else only the current key is searched</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The desired registry value as a RegistryValue object if it exists, otherwise, None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.get_matching_subkeys">
<span class="sig-name descname"><span class="pre">get_matching_subkeys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subkey_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.get_matching_subkeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.get_matching_subkeys" title="Link to this definition"></a></dt>
<dd><p>Returns all subkeys regex matching subkey name</p>
<p>Note: this method obtains only direct subkeys of the given key and does not
desced to transtitve subkeys. For this behavior, see <cite>find_matching_subkeys</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.get_subkey">
<span class="sig-name descname"><span class="pre">get_subkey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subkey_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.get_subkey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.get_subkey" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.get_subkeys">
<span class="sig-name descname"><span class="pre">get_subkeys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.get_subkeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.get_subkeys" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.get_value">
<span class="sig-name descname"><span class="pre">get_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.get_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.get_value" title="Link to this definition"></a></dt>
<dd><p>Return registry value corresponding to provided argument (if it exists)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.get_values">
<span class="sig-name descname"><span class="pre">get_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.get_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.get_values" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.invalid_reg_ref_error_handler">
<span class="sig-name descname"><span class="pre">invalid_reg_ref_error_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spack/util/windows_registry.html#WindowsRegistryView.invalid_reg_ref_error_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.invalid_reg_ref_error_handler" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="spack.util.windows_registry.WindowsRegistryView.reg">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reg</span></span><a class="headerlink" href="#spack.util.windows_registry.WindowsRegistryView.reg" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="spack.solver.html" class="btn btn-neutral float-left" title="spack.solver package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="spack.util.unparse.html" class="btn btn-neutral float-right" title="spack.util.unparse package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2023, Lawrence Livermore National Laboratory..
      <span class="lastupdated">Last updated on Sep 20, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>